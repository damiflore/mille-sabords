System.register(["./index-3fc181a5.js"],(function(e){"use strict";var n,t,r,o,c,i,a,u,l,d,s,f,v,m,h,p,g,b,E,y,C,k,x,w,N,O,S,M,A,D,I,R,F,T,P,K,L,j,q,B,U,_,W,z,H,V;return{setters:[function(e){n=e.r,t=e._,r=e.i,o=e.T,c=e.a,i=e.b,a=e.c,u=e.F,l=e.d,d=e.S,s=e.e,f=e.f,v=e.g,m=e.h,h=e.j,p=e.k,g=e.l,b=e.m,E=e.s,y=e.u,C=e.n,k=e.o,x=e.p,w=e.q,N=e.t,O=e.v,S=e.w,M=e.x,A=e.y,D=e.z,I=e.A,R=e.B,F=e.C,T=e.D,P=e.E,K=e.G,L=e.H,j=e.I,q=e.J,B=e.K,U=e.L,_=e.M,W=e.N,z=e.O,H=e.P,V=e.Q}],execute:function(){var G=n.useEffect,J=n.useRef,Q=function(e,n){var r=J(!1);G((function(){!1===r.current&&(r.current=!0)}));var o=J(n);return G((function(){o.current=n}),n),!!r.current&&Boolean(e.apply(void 0,t(o.current)))},Y=function(e){var n=e.card,g=e.symbolsFromDicesKept,b=e.scoreMarked,E=e.markScoreAllowed;return r(n)?b||E?X(g,{goal:o.numberOfSwords,gamble:o.gambleAmount}):-o.gambleAmount:c(n)?b||E?X(g,{goal:i.numberOfSwords,gamble:i.gambleAmount}):-i.gambleAmount:a(n)?b||E?X(g,{goal:u.numberOfSwords,gamble:u.gambleAmount}):-u.gambleAmount:l(n)?$(g.map((function(e){return e===d?s:e}))):f(n)?2*$(g):v(n)?$([].concat(t(g),[m]),9):h(n)?$([].concat(t(g),[p]),9):$(g)},X=function(e,n){var t=n.goal,r=n.gamble;return Z(e,g)>=t?$(e)+r:-r},Z=function(e,n){return e.filter((function(e){return e===n})).length},$=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,t=0,r=0,o=ee(e);return Object.values(o).forEach((function(e){3===e&&(t+=100),4===e&&(t+=200),5===e&&(t+=500),6===e&&(t+=1e3),7===e&&(t+=2e3),8===e&&(t+=4e3),e>2&&(r+=e)})),e.forEach((function(e){e===p&&(t+=100,o[p]<3&&(r+=1)),e===m&&(t+=100,o[m]<3&&(r+=1))})),r===n&&(t+=500),t},ee=function(e){var n={};return e.forEach((function(e){n.hasOwnProperty(e)?n[e]++:n[e]=1})),n},ne=n.useMemo,te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return 0===t},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return t>1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n;return v(t)?[m]:h(t)?[p]:A(t)?[D]:I(t)?[D,D]:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesKept,t=void 0===n?R():n;return t.map((function(e){return M(e)}))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?se():n;return 3-t},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesToCurse,t=void 0===n?ue():n;return t.length>0},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesRolled,t=void 0===n?C():n,r=e.witchUncursedDiceId,o=void 0===r?k():r,c=e.remainingSpotInCursedArea,i=void 0===c?ie():c;return t.filter((function(e){return b(e)&&e.id!==o})).slice(0,i)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n,r=e.hasNeverRolled,o=void 0===r?te():r,c=e.dicesRolled,i=void 0===c?C():c,a=e.scoreMarked,u=void 0===a?O():a,l=e.threeSkullsOrMoreInCursedArea,d=void 0===l?de():l,s=e.hasDicesToCurse,f=void 0===s?ae():s;return!!t&&(!u&&(!!o||!d&&(!f&&!(i.length<2))))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?se():n;return t>2},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesCursed,t=void 0===n?x():n,r=e.symbolsFromCard,o=void 0===r?oe():r;return t.length+o.filter((function(e){return E(e)})).length},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.hasRolledMoreThanOnce,t=void 0===n?re():n,r=e.scoreMarked,o=void 0===r?O():r,c=e.currentCard,i=void 0===c?w():c,a=e.threeSkullsOrMoreInCursedArea,u=void 0===a?de():a,l=e.hasDicesToCurse,d=void 0===l?ae():l;return!o&&(u?!(!S(i)||!t):!d)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n,r=e.symbolsFromDicesKept,o=void 0===r?ce():r,c=e.scoreMarked,i=void 0===c?O():c,a=e.markScoreAllowed,u=void 0===a?fe():a;return ne((function(){return Y({card:t,symbolsFromDicesKept:o,scoreMarked:i,markScoreAllowed:u})}),[t,o,i,u])},me=F((function(e,n){var t=e.totalScore;return T({},e,{totalScore:Math.max(t+n,0),scoreMarked:!0})})),he=F((function(e){return T({},e,{isOnSkullIsland:!0})})),pe=F((function(e,n){var r=e.dicesRolled,o=e.dicesCursed;return T({},e,{dicesRolled:r.filter((function(e){return e.id!==n.id})),dicesCursed:[].concat(t(o),[n])})})),ge=F((function(e,n){var r=e.dicesRolled,o=e.dicesCursed;return T({},e,{witchUncursedDiceId:n.id,dicesRolled:[].concat(t(r),[n]),dicesCursed:o.filter((function(e){return e.id!==n.id}))})})),be=F((function(e,n){var r=e.dicesRolled,o=e.dicesKept;return T({},e,{dicesRolled:[].concat(t(r),[n]),dicesKept:o.filter((function(e){return e.id!==n.id}))})})),Ee=F((function(e,n){var r=e.dicesRolled,o=e.dicesKept;return T({},e,{dicesRolled:r.filter((function(e){return e.id!==n.id})),dicesKept:[].concat(t(o),[n])})})),ye=n.useEffect,Ce=function(){return ke(),null},ke=function(){xe(),we(),Ne()},xe=function(){var e=ue(),n=pe();ye((function(){if(0===e.length)return function(){};var t=setTimeout((function(){e.forEach((function(e){n(e)}))}),1e3);return function(){clearTimeout(t)}}),[e])},we=function(){var e=w(),n=O(),t=me(),r=de(),o=Q((function(e){return!e&&r}),[r]),c=ve(),i=K(e);ye((function(){i&&!n&&o&&t(c)}),[i,n,o,c])},Ne=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return 1===t}(),n=w(),t=P(),r=se(),o=he();ye((function(){e&&(t||K(n)||r<4||o())}),[e,t,n,r])},Oe=function(e,n){return!(e.right<=n.left)&&(!(e.left>=n.right)&&(!(e.bottom<=n.top)&&!(e.top>=n.bottom)))},Se=function(e){var t=e.dice,r=e.disabled,o=e.onClickAction,c=e.specificStyle,i=b(t);return n.createElement("button",{disabled:r,"data-dice-id":t.id,ref:L(t.id),onClick:function(){return o(t)},className:"dice",style:T({width:50,height:50,background:i?"black":"#fcfcfc",color:i?"black":"#fcfcfc",borderColor:i?"black":"#b9b9b9"},c)},n.createElement("img",{src:"src/dices/dice_".concat(M(t),".png"),style:{width:"100%",height:"100%"}}))},Me=function(){var e=C(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?O():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?de():r;return!t&&!o}(),r=Ee();return n.createElement("div",{className:"dice-ongoing"},n.createElement("div",{className:"map"}),n.createElement("div",{className:"area",ref:j()},e.map((function(e){return n.createElement(Se,{key:e.id,dice:e,disabled:!!b(e)||!t,onClickAction:function(e){r(e)},specificStyle:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),transform:"rotate(".concat(e.rotation,"deg)"),position:"absolute"}})}))))},Ae=function(){var e=w();return n.createElement("div",{className:"score-area"},e?n.createElement(De,null):null)},De=function(){var e=ve(),t=w();return n.createElement(n.Fragment,null,n.createElement("div",{className:"bonds"}),f(t)?n.createElement(Ie,null):null,n.createElement("div",{className:"round-score"},e))},Ie=function(){return n.createElement("div",{className:"pirate-hook"})},Re=function(){var e=w(),t=R(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?O():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?de():r;return!t&&!o}(),o=be();return n.createElement("div",{className:"dice-kept"},n.createElement("div",{className:"dice-area"},n.createElement("div",{className:"box"},v(e)?n.createElement(Fe,{card:e}):null,h(e)?n.createElement(Te,{card:e}):null,t.map((function(e){return n.createElement(Se,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"5px"}})}))),n.createElement("div",{className:"top-left-corner"}),n.createElement("div",{className:"top-right-corner"}),n.createElement("div",{className:"bottom-left-corner"}),n.createElement("div",{className:"bottom-right-corner"}),n.createElement(Pe,null)),n.createElement(Ae,null))},Fe=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:q[t].color1,borderColor:q[t].color2,borderWidth:"2px",borderStyle:"solid"}},n.createElement("img",{src:"src/dices/dice_coin.png",style:{width:"100%",height:"100%"}}))},Te=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:q[t].color1,borderColor:q[t].color2,borderWidth:"2px",borderStyle:"solid"}},n.createElement("img",{src:"src/dices/dice_diamond.png",style:{width:"100%",height:"100%"}}))},Pe=function(){return de()?n.createElement("div",{className:"cursed-cover"},n.createElement("img",{src:"src/dice-kept/cursed-cover.png",alt:"cursed-cover"})):null},Ke=F((function(e){var n=e.cardDeck,r=e.cardsUsed,o=n[0];return T({},e,{cardDeck:n.slice(1),cardsUsed:[].concat(t(r),[o]),currentCard:o})})),Le=F((function(e){var n=e.cardsUsed;return T({},e,{cardsUsed:[],cardDeck:B(n)})}));var je=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qe=function(e){var t=e.href,r=e.children;return t?U.createPortal(n.createElement("link",{href:t,rel:"stylesheet",type:"text/css"}),document.head):U.createPortal(n.createElement("style",{type:"text/css"},r),document.head)},Be=function(e,n){if(null===e)return{};var t,r,o=function(e,n){if(null===e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o},Ue=function(e){return e.window===e},_e=function(e){return 9===e.nodeType},We=function(e){if(1!==e.nodeType)return!1;var n=e.nodeName.toLowerCase();return"input"===n?"hidden"!==e.type&&ze(e):["button","select","datalist","iframe","textarea"].indexOf(n)>-1||e.hasAttribute("tabindex")||e.hasAttribute("tabIndex")||e.hasAttribute("draggable")?ze(e):["a","area"].indexOf(n)>-1?!1!==e.hasAttribute("href")&&ze(e):["audio","video"].indexOf(n)>-1&&(!1!==e.hasAttribute("controls")&&ze(e))},ze=function(e){if(He(e))return!0;if("hidden"===Ve(e,"visibility"))return!1;for(var n=e;n&&!He(n);){if("none"===Ve(n,"display"))return!1;n=n.parentNode}return!0},He=function(e){return e===e.ownerDocument.documentElement},Ve=function(e,n){return function(e){return Ge(e).getComputedStyle(e)}(e).getPropertyValue(n)},Ge=function(e){return Ue(e)?e:_e(e)?e.defaultView:Je(e).defaultView},Je=function(e){return Ue(e)?e.document:_e(e)?e:e.ownerDocument},Qe=function(e,n){for(var t=Xe(e,e),r=t.next(),o=r.done,c=r.value;!1===o;){if(n(c))return c;var i=t.next();o=i.done,c=i.value}return null},Ye=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r){var o=n.firstChild;if(o)return o}var c=n.nextSibling;if(c)return c;var i=n.parentNode;return i&&i!==t?e(i,t,!0):null},Xe=function(e,n){var t=e;return{next:function(){var e=Ye(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},Ze=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,o=!1,c=function(){var e=Ye(r,n,t&&!1===o);return o=!0,r=e,{done:!1===Boolean(e),value:e}};return{next:c}},$e=function(e){for(var n=e.lastChild;n;){var t=n.lastChild;if(!t)break;n=t}return n},en=function(e,n){var t=e;return{next:function(){var e=function(e,n){var t=e.previousSibling;if(t){var r=$e(t);return r||t}if(e!==n){var o=e.parentNode;if(o&&o!==n)return o}return null}(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},nn=function(e){var n=Qe(e,We);return n||(We(e)?e:null)},tn=function(e){if(3===e.nodeType)return console.warn("cannot trap focus inside a text node"),function(){};if(cn.find((function(n){return n.element===e})))return console.warn("focus already trapped inside this element"),function(){};var n=function(){return Qe(e,rn)},t=function(){return function(e,n){var t=$e(e);if(t)for(var r=en(t,e),o=r.next(),c=o.done,i=o.value;!1===c;){if(n(i))return i;var a=r.next();c=a.done,i=a.value}return null}(e,rn)},r=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,c=en(n,r),i=c.next(),a=i.done,u=i.value;!1===a;){if(o(u))return u;var l=c.next();a=l.done,u=l.value}return null}({from:document.activeElement,root:e,predicate:rn})||t()},o=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,c=e.skipChildren,i=Ze(n,r,void 0!==c&&c),a=i.next(),u=a.done,l=a.value;!1===u;){if(o(l))return l;var d=i.next();u=d.done,l=d.value}return null}({from:document.activeElement,root:e,predicate:rn})||n()},c=an({element:e,lock:function(){var c=function(n){(function(n){return n.target!==e&&!e.contains(n.target)})(n)&&(n.preventDefault(),n.stopImmediatePropagation())},i=function(e){on(e)&&(e.preventDefault(),function(e){var c=document.activeElement===document.body;if(e.shiftKey){var i=c?t():r();i&&i.focus()}else{var a=c?n():o();a&&a.focus()}}(e))};return document.addEventListener("mousedown",c,{capture:!0,passive:!1}),document.addEventListener("keydown",i,{capture:!0,passive:!1}),function(){document.removeEventListener("mousedown",c,{capture:!0,passive:!1}),document.removeEventListener("keydown",i,{capture:!0,passive:!1})}}});return function(){c()}},rn=function(e){return!function(e){return e.hasAttribute&&e.hasAttribute("tabIndex")&&Number(e.getAttribute("tabindex"))<0}(e)&&We(e)},on=function(e){return"Tab"===e.key||9===e.keyCode},cn=[],an=function(e){var n,t=e.lock;cn.length>0&&(n=cn[cn.length-1]).unlock();var r={lock:t,unlock:t()};return cn.push(r),function(){if(0!==cn.length){var e=cn[cn.length-1];r===e?(cn.pop(),r.unlock(),n&&(n.unlock=n.lock())):console.warn("you must deactivate trap in the same order they were activated")}else console.warn("cannot deactivate an already deactivated trap")}},un=function(e){if("object"!==_(e)||1!==e.nodeType)throw new TypeError("getScrollableParent first argument must be DOM node");var n=e;return"fixed"===Ve(n,"position")?ln(n.ownerDocument):En(n)||ln(n.ownerDocument)},ln=function(e){if("scrollingElement"in e)return e.scrollingElement;if(mn(e))return e.documentElement;var n=e.body,t=n&&!/body/i.test(n.tagName)?dn(n):n;return t&&fn(t)?null:t},dn=function(e){for(var n=e;n=n.nextSibling;)if(1===n.nodeType&&sn(n))return n;return null},sn=function(e){return e.ownerDocument.body===e},fn=function(e){if(!pn(e))return!1;if(vn(e))return!1;var n=e.ownerDocument.documentElement;return!!pn(n)&&!vn(n)},vn=function(e){var n=Ve(e,"display");return"none"!==n&&("table-row"!==n&&"table-group"!==n&&"table-column"!==n||"collapsed"!==Ve(e,"visibility"))},mn=function(e){return!!/^CSS1/.test(e.compatMode)&&hn(e)},hn=function(e){var n=e.createElement("iframe");n.style.height="1px",(e.body||e.documentElement||e).appendChild(n);var t=n.contentWindow.document;t.write('<!DOCTYPE html><div style="height:9999em">x</div>'),t.close();var r=t.documentElement.scrollHeight>t.body.scrollHeight;return n.parentNode.removeChild(n),r},pn=function(e){return!gn(e)||!bn(e)},gn=function(e){return"visible"===Ve(e,"overflow-x")||"visible"===Ve(e,"overflow")},bn=function(e){return"visible"===Ve(e,"overflow-y")||"visible"===Ve(e,"overflow")},En=function(e){for(var n=Ve(e,"position"),t=e.parentNode;t;)if("absolute"!==n||"static"!==Ve(t,"position")){if(pn(t))return t;t=t.parentNode}return null},yn=n.useEffect,Cn={position:"fixed",zIndex:1e3,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},kn={position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid rgb(204, 204, 204)",overflow:"auto",overscrollBehavior:"contain",borderRadius:"4px",outline:"none",padding:"20px"},xn=function(e){var t=e.children,r=e.isOpen,o=e.closeMethod,c=void 0===o?"display-none":o,i=e.stealFocus,a=void 0===i||i,u=e.restoreStolenFocus,l=void 0===u||u,d=e.trapFocus,s=void 0===d||d,f=e.requestCloseOnEscape,v=void 0===f||f,m=e.requestCloseOnClickOutside,h=void 0!==m&&m,p=e.onAfterOpen,g=void 0===p?function(){}:p,b=e.onRequestClose,E=void 0===b?function(){}:b,y=e.onFocusIn,C=void 0===y?function(){}:y,k=e.onFocusOut,x=void 0===k?function(){}:k,w=e.overlayProps,N=void 0===w?{}:w,O=Be(e,["children","isOpen","closeMethod","stealFocus","restoreStolenFocus","trapFocus","requestCloseOnEscape","requestCloseOnClickOutside","onAfterOpen","onRequestClose","onFocusIn","onFocusOut","overlayProps"]),S=n.useState(null),M=W(S,2),A=M[0],D=M[1],I="dom-remove"===c?Boolean(A):r;return Q((function(e){return!e&&I}),[I])&&g(),yn((function(){if(!I)return function(){};var e=function(e){C(e)},n=function(e){Sn(A)||x(e)};return A.addEventListener("focus",e,!0),document.addEventListener("focus",n,!0),function(){A.removeEventListener("focus",e,!0),document.removeEventListener("focus",n,!0)}}),[I,C,x]),yn((function(){return I?function(e){for(var n=[],t=e.previousSibling;t;)1===t.nodeType&&pn(t)&&n.push(t),t=t.previousSibling;var r=un(e);n.push(r);var o=n.map((function(e){var n=e.style.overflow||null;return e.style.overflow="hidden",function(){e.style.overflow=n}}));return function(){o.forEach((function(e){e()}))}}(A):function(){}}),[I]),yn((function(){if(!I||!s)return function(){};var e=On(A);return tn(e)}),[I,s]),yn((function(){if(!I||!a)return function(){};var e=document.activeElement,n=On(A),t=nn(n);return t&&t.focus(),function(){t&&("function"==typeof l?l(e):!0===l&&e.focus())}}),[I,a]),yn((function(){if(!I)return function(){};var e=Nn(A),n=function(e){if(e.preventDefault(),!Sn(A)){var n=On(A),t=nn(n);t&&t.focus()}};return e.addEventListener("mousedown",n,{passive:!1}),function(){e.removeEventListener("mousedown",n,{passive:!1})}}),[I]),yn((function(){if(!I)return function(){};var e=[];return Array.from(A.parentNode.children).forEach((function(n){n!==A&&e.push(n)})),e.forEach((function(e){e.setAttribute("aria-hidden","true")})),function(){e.forEach((function(e){e.removeAttribute("aria-hidden","true")}))}}),[I]),"dom-remove"!==c||r?U.createPortal(n.createElement("div",je({style:T({},Cn,{},r?{}:wn(c),{},N.style),hidden:!r&&"hidden-attribute"===c||void 0,ref:function(e){D(e),N.ref&&N.ref(e)},onClick:function(e){if(h){var n=On(A),t=e.target;t===n||n.contains(t)||E(e)}N.onClick&&N.onClick(e)},onKeyDown:function(e){v&&e.keyCode===Mn&&E(e),N.onKeyDown&&N.onKeyDown(e)}},N),n.createElement("div",je({tabIndex:"-1",style:T({},kn,{},O.style)},O),t)),document.body):null},wn=function(e){return"display-none"===e?{display:"none"}:"visibility-hidden"===e?{visibility:"hidden"}:{}},Nn=function(e){return e},On=function(e){return e.firstChild},Sn=function(e){var n=document.activeElement;return e===n||e.contains(n)},Mn=27,An=function(e){return n.createElement(n.Fragment,null,n.createElement(Dn,null),n.createElement(xn,je({overlayProps:{className:"dialog--overlay"},className:"dialog"},e)))},Dn=function(){return n.createElement(qe,{href:"/src/dialog/dialog.css"})};Dn=n.memo(Dn);var In=function(){var e=w(),t=ce(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n;return r(t)?o.numberOfSwords:c(t)?i.numberOfSwords:a(t)?u.numberOfSwords:null}();if(!e||!K(e))return null;var d=Z(t,g),s=new Array(l).fill("");return n.createElement("div",{className:"sword-challenge-indicators"},s.map((function(e,t){return d>=t+1?n.createElement(Rn,{key:t}):n.createElement(Fn,{key:t})})))},Rn=function(){return n.createElement("div",{className:"sword-icon"},n.createElement("img",{src:"src/dices/dice_sword.png"}))},Fn=function(){return n.createElement("div",{className:"sword-icon disabled"},n.createElement("img",{src:"src/header/swords-disabled.png"}))},Tn=function(){return n.createElement("div",{className:"header"},n.createElement("div",{className:"card-container"},n.createElement(Pn,null),n.createElement(In,null)),n.createElement(_n,null))},Pn=function(){return n.createElement("div",{className:"small-card"},n.createElement(Kn,null),n.createElement(qn,null))},Kn=function(){var e=w();return e?n.createElement(jn,{card:e}):n.createElement(Ln,null)},Ln=function(){return n.createElement("div",{className:"card default-card",style:{backgroundImage:"url('src/cards/card_default.png')",backgroundSize:"217px"}})},jn=function(e){var t=e.card;return n.createElement("div",{className:"card current-card",style:{backgroundColor:q[t].color1,borderColor:q[t].color2}},n.createElement("img",{src:"src/cards/card_small-".concat(K(t)?"sword-challenge":t,".png"),alt:t}))},qn=function(){var e=w(),t=z();return e?null:0===t.length?n.createElement(Un,null):n.createElement(Bn,null)},Bn=function(){var e=Ke();return n.createElement("button",{className:"draw-card-btn",onClick:e},"Draw a card")},Un=function(){var e=Le();return n.createElement("button",{className:"draw-card-btn",onClick:e},"Shuffle deck")},_n=function(){var e=n.useState(!1),t=W(e,2),r=t[0],o=t[1],c=H();return n.createElement("div",{className:"total-score"},n.createElement("span",{onClick:function(){o(!0)},className:"score"},c),n.createElement(An,{isOpen:r,onRequestClose:function(){o(!1)},requestCloseOnClickOutside:!0},n.createElement("div",{style:{height:"2000px"}},"Total score dialog content")))},Wn=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollDiceAllowed,t=void 0===n?le():n,r=e.markScoreAllowed,o=void 0===r?fe():r,c=e.hasDicesToCurse,i=void 0===c?ae():c;return!t&&(!o&&!i)}(),t=zn();return e?n.createElement("div",{className:"next-round-action"},n.createElement("button",{onClick:t},"Next round")):null},zn=F((function(e){return T({},e,{witchUncursedDiceId:null,rollCount:0,dicesRolled:[],dicesCursed:[],dicesKept:[],scoreMarked:!1,currentCard:null,isOnSkullIsland:!1})})),Hn=function(e,n){var t=n.diceParentElement.getBoundingClientRect(),r=t.width-50,o=t.height-50,c=[];return e.forEach((function(e){var n=Vn(e,{dicesRolled:c,xMin:0,xMax:r,yMin:0,yMax:o});c.push(n)})),c},Vn=function(e,n){var t=n.dicesRolled,r=n.xMin,o=n.xMax,c=n.yMin,i=n.yMax,a=Gn(t,{xMin:r,xMax:o,yMin:c,yMax:i}),u=a.x,l=a.y;return T({},e,{visibleFaceIndex:Qn(e),x:u,y:l,rotation:Jn()})},Gn=function(e,n){var t=n.xMin,r=n.xMax,o=n.yMin,c=n.yMax,i=0;return function n(){var a,u={x:Yn(t,r),y:Yn(o,c)};return a=u,e.some((function(e){return Oe({top:a.y-6.25,left:a.x-6.25,bottom:a.y+50+6.25,right:a.x+50+6.25},{top:e.y-6.25,left:e.x-6.25,bottom:e.y+50+6.25,right:e.x+50+6.25})}))?++i>50?u:n():u}()},Jn=function(){return Yn(-35,35)},Qn=function(e){return Yn(0,e.faces.length-1)},Yn=function(e,n){return Math.floor(Math.random()*(n-e+1)+e)},Xn=function(){var e=le(),t=V(),r=Zn();return e?n.createElement("div",{className:"roll-action"},n.createElement("button",{onClick:function(){r(t)}},"Roll")):null},Zn=F((function(e,n){var t=e.rollCount,r=e.dices,o=e.dicesRolled;return T({},e,{rollCount:t+1,dicesRolled:Hn(0===t?r:o,{diceParentElement:n})})})),$n=function(){var e=me(),t=ve();return n.createElement("div",{className:"actions"},n.createElement(Xn,null),n.createElement(et,{onClick:function(){e(t)}}),n.createElement(Wn,null))},et=function(e){var t=e.onClick,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return t>0}(),o=fe(),c=ve(),i=c<0?"-":"+";return o&&r?n.createElement("div",{className:"collect-action"},n.createElement("button",{onClick:t},n.createElement("span",null,"Collect"),n.createElement("span",{className:"score"},i," ",Math.abs(c)))):null},nt=function(){var e=w(),t=x(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.witchUncursedDiceId,t=void 0===n?k():n,r=e.currentCard,o=void 0===r?w():r,c=e.threeSkullsOrMoreInCursedArea,i=void 0===c?de():c;return!!N(o)&&(!i&&!t)}(),o=ge();return n.createElement("div",{className:"skull-island"},n.createElement("div",{className:"bottle"},n.createElement("div",{className:"area"},t.map((function(e){return n.createElement(Se,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"1px 5px"}})})),A(e)?n.createElement(tt,{card:e}):null,I(e)?n.createElement(n.Fragment,null,n.createElement(tt,{card:e}),n.createElement(tt,{card:e})):null)))},tt=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"1px 5px",backgroundColor:q[t].color1,borderColor:q[t].color2,borderWidth:"2px"}},n.createElement("img",{src:"src/dices/dice_skull.png",style:{width:"100%",height:"100%"}}))},rt=n.useMemo;e("Game",(function(){return rt((function(){return n.createElement("div",{id:"mille-sabord-container"},n.createElement(Ce,null),n.createElement(Tn,null),n.createElement("div",{className:"dice-kept-and-skulls"},n.createElement(Re,null),n.createElement(nt,null)),n.createElement(Me,null),n.createElement($n,null))}))}))}}}));
//# sourceMappingURL=game.component-428764d2.js.map
