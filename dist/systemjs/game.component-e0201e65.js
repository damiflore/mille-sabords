System.register(["./main.js"],(function(e){"use strict";var n,t,r,o,a,i,c,l,u,s,d,m,f,v,p,E,b,g,h,y,N,x,C,k,w,S,O,A,M,D,I,q,j,L,P,R,F,T,_,K,B,U,z,W,G,H;return{setters:[function(e){n=e.r,t=e.a,r=e._,o=e.i,a=e.T,i=e.b,c=e.c,l=e.d,u=e.F,s=e.e,d=e.S,m=e.f,f=e.g,v=e.h,p=e.j,E=e.k,b=e.l,g=e.m,h=e.n,y=e.s,N=e.u,x=e.o,C=e.p,k=e.q,w=e.t,S=e.v,O=e.w,A=e.x,M=e.y,D=e.z,I=e.A,q=e.B,j=e.C,L=e.D,P=e.E,R=e.G,F=e.H,T=e.I,_=e.J,K=e.K,B=e.L,U=e.M,z=e.N,W=e.O,G=e.P,H=e.Q}],execute:function(){var V=function(e){var r=e.href,o=e.children;return r?n.createPortal(t.createElement("link",{href:r,rel:"stylesheet",type:"text/css"}),document.head):n.createPortal(t.createElement("style",{type:"text/css"},o),document.head)},J=t.useEffect,Q=t.useRef,Y=function(e,n){var t=Q(!1);J((function(){!1===t.current&&(t.current=!0)}));var o=Q(n);return J((function(){o.current=n}),n),!!t.current&&Boolean(e.apply(void 0,r(o.current)))},X=function(e){var n=e.card,t=e.symbolsFromDicesKept,g=e.scoreMarked,h=e.markScoreAllowed;return o(n)?g||h?Z(t,{goal:a.numberOfSwords,gamble:a.gambleAmount}):-a.gambleAmount:i(n)?g||h?Z(t,{goal:c.numberOfSwords,gamble:c.gambleAmount}):-c.gambleAmount:l(n)?g||h?Z(t,{goal:u.numberOfSwords,gamble:u.gambleAmount}):-u.gambleAmount:s(n)?ee(t.map((function(e){return e===d?m:e}))):f(n)?2*ee(t):v(n)?ee([].concat(r(t),[p]),9):E(n)?ee([].concat(r(t),[b]),9):ee(t)},Z=function(e,n){var t=n.goal,r=n.gamble;return $(e,g)>=t?ee(e)+r:-r},$=function(e,n){return e.filter((function(e){return e===n})).length},ee=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,t=0,r=0,o=ne(e);return Object.values(o).forEach((function(e){3===e&&(t+=100),4===e&&(t+=200),5===e&&(t+=500),6===e&&(t+=1e3),7===e&&(t+=2e3),8===e&&(t+=4e3),e>2&&(r+=e)})),e.forEach((function(e){e===b&&(t+=100,o[b]<3&&(r+=1)),e===p&&(t+=100,o[p]<3&&(r+=1))})),r===n&&(t+=500),t},ne=function(e){var n={};return e.forEach((function(e){n.hasOwnProperty(e)?n[e]++:n[e]=1})),n},te=t.useMemo,re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?N():n;return 0===t},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?N():n;return t>1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n;return v(t)?[p]:E(t)?[b]:D(t)?[I]:q(t)?[I,I]:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesKept,t=void 0===n?j():n;return t.map((function(e){return M(e)}))},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?me():n;return 3-t},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesToCurse,t=void 0===n?ue():n;return t.length>0},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesRolled,t=void 0===n?x():n,r=e.witchUncursedDiceId,o=void 0===r?C():r,a=e.remainingSpotInCursedArea,i=void 0===a?ce():a;return t.filter((function(e){return h(e)&&e.id!==o})).slice(0,i)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n,r=e.hasNeverRolled,o=void 0===r?re():r,a=e.dicesRolled,i=void 0===a?x():a,c=e.scoreMarked,l=void 0===c?O():c,u=e.threeSkullsOrMoreInCursedArea,s=void 0===u?de():u,d=e.hasDicesToCurse,m=void 0===d?le():d;return!!t&&(!l&&(!!o||!s&&(!m&&!(i.length<2))))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?me():n;return t>2},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesCursed,t=void 0===n?k():n,r=e.symbolsFromCard,o=void 0===r?ae():r;return t.length+o.filter((function(e){return y(e)})).length},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.hasRolledMoreThanOnce,t=void 0===n?oe():n,r=e.scoreMarked,o=void 0===r?O():r,a=e.currentCard,i=void 0===a?w():a,c=e.threeSkullsOrMoreInCursedArea,l=void 0===c?de():c,u=e.hasDicesToCurse,s=void 0===u?le():u;return!o&&(l?!(!A(i)||!t):!s)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n,r=e.symbolsFromDicesKept,o=void 0===r?ie():r,a=e.scoreMarked,i=void 0===a?O():a,c=e.markScoreAllowed,l=void 0===c?fe():c;return te((function(){return X({card:t,symbolsFromDicesKept:o,scoreMarked:i,markScoreAllowed:l})}),[t,o,i,l])},pe=L((function(e,n){var t=e.totalScore;return P(P({},e),{},{totalScore:Math.max(t+n,0),scoreMarked:!0})})),Ee=L((function(e){return P(P({},e),{},{isOnSkullIsland:!0})})),be=L((function(e,n){var t=e.dicesRolled,o=e.dicesCursed;return P(P({},e),{},{dicesRolled:t.filter((function(e){return e.id!==n.id})),dicesCursed:[].concat(r(o),[n])})})),ge=L((function(e,n){var t=e.dicesRolled,o=e.dicesCursed;return P(P({},e),{},{witchUncursedDiceId:n.id,dicesRolled:[].concat(r(t),[n]),dicesCursed:o.filter((function(e){return e.id!==n.id}))})})),he=L((function(e,n){var t=e.dicesRolled,o=e.dicesKept;return P(P({},e),{},{dicesRolled:[].concat(r(t),[n]),dicesKept:o.filter((function(e){return e.id!==n.id}))})})),ye=L((function(e,n){var t=e.dicesRolled,o=e.dicesKept;return P(P({},e),{},{dicesRolled:t.filter((function(e){return e.id!==n.id})),dicesKept:[].concat(r(o),[n])})})),Ne=t.useEffect,xe=function(){return Ce(),null},Ce=function(){ke(),we(),Se()},ke=function(){var e=ue(),n=be();Ne((function(){if(0===e.length)return function(){};var t=setTimeout((function(){e.forEach((function(e){n(e)}))}),1e3);return function(){clearTimeout(t)}}),[e])},we=function(){var e=w(),n=O(),t=pe(),r=de(),o=Y((function(e){return!e&&r}),[r]),a=ve(),i=F(e);Ne((function(){i&&!n&&o&&t(a)}),[i,n,o,a])},Se=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?N():n;return 1===t}(),n=w(),t=R(),r=me(),o=Ee();Ne((function(){e&&(t||F(n)||r<4||o())}),[e,t,n,r])},Oe=function(){return t.createElement("div",{style:{display:"none"}},t.createElement("img",{src:"src/skull-island/witch-label.png"}),t.createElement("img",{src:"src/dice-kept/pirate-hook.png",v:!0}))},Ae=function(e,n){return!(e.right<=n.left)&&(!(e.left>=n.right)&&(!(e.bottom<=n.top)&&!(e.top>=n.bottom)))},Me=function(e){var n=e.dice,r=e.disabled,o=e.onClickAction,a=e.specificStyle,i=h(n);return t.createElement("button",{disabled:r,"data-dice-id":n.id,ref:T(n.id),onClick:function(){return o(n)},className:"dice",style:P({width:50,height:50,background:i?"black":"#fcfcfc",color:i?"black":"#fcfcfc",borderColor:i?"black":"#b9b9b9"},a)},t.createElement("img",{src:"src/dices/dice_".concat(M(n),".png"),style:{width:"100%",height:"100%"}}))},De=function(){var e=x(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?O():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?de():r;return!t&&!o}(),r=ye();return t.createElement("div",{className:"dice-ongoing"},t.createElement("div",{className:"map"}),t.createElement("div",{className:"area",ref:_()},e.map((function(e){return t.createElement(Me,{key:e.id,dice:e,disabled:!!h(e)||!n,onClickAction:function(e){r(e)},specificStyle:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),transform:"rotate(".concat(e.rotation,"deg)"),position:"absolute"}})}))))};var Ie=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qe=function(e,n){if(null===e)return{};var t,r,o=function(e,n){if(null===e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o},je=function(e){return e.window===e},Le=function(e){return 9===e.nodeType},Pe=function(e){if(1!==e.nodeType)return!1;var n=e.nodeName.toLowerCase();return"input"===n?"hidden"!==e.type&&Re(e):["button","select","datalist","iframe","textarea"].indexOf(n)>-1||e.hasAttribute("tabindex")||e.hasAttribute("tabIndex")||e.hasAttribute("draggable")?Re(e):["a","area"].indexOf(n)>-1?!1!==e.hasAttribute("href")&&Re(e):["audio","video"].indexOf(n)>-1&&(!1!==e.hasAttribute("controls")&&Re(e))},Re=function(e){if(Fe(e))return!0;if("hidden"===Te(e,"visibility"))return!1;for(var n=e;n&&!Fe(n);){if("none"===Te(n,"display"))return!1;n=n.parentNode}return!0},Fe=function(e){return e===e.ownerDocument.documentElement},Te=function(e,n){return function(e){return _e(e).getComputedStyle(e)}(e).getPropertyValue(n)},_e=function(e){return je(e)?e:Le(e)?e.defaultView:Ke(e).defaultView},Ke=function(e){return je(e)?e.document:Le(e)?e:e.ownerDocument},Be=function(e,n){for(var t=ze(e,e),r=t.next(),o=r.done,a=r.value;!1===o;){if(n(a))return a;var i=t.next();o=i.done,a=i.value}return null},Ue=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r){var o=n.firstChild;if(o)return o}var a=n.nextSibling;if(a)return a;var i=n.parentNode;return i&&i!==t?e(i,t,!0):null},ze=function(e,n){var t=e;return{next:function(){var e=Ue(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},We=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,o=!1,a=function(){var e=Ue(r,n,t&&!1===o);return o=!0,r=e,{done:!1===Boolean(e),value:e}};return{next:a}},Ge=function(e){for(var n=e.lastChild;n;){var t=n.lastChild;if(!t)break;n=t}return n},He=function(e,n){var t=e;return{next:function(){var e=function(e,n){var t=e.previousSibling;if(t){var r=Ge(t);return r||t}if(e!==n){var o=e.parentNode;if(o&&o!==n)return o}return null}(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},Ve=function(e){var n=Be(e,Pe);return n||(Pe(e)?e:null)},Je=function(e){if(3===e.nodeType)return console.warn("cannot trap focus inside a text node"),function(){};if(Xe.find((function(n){return n.element===e})))return console.warn("focus already trapped inside this element"),function(){};var n=function(){return Be(e,Qe)},t=function(){return function(e,n){var t=Ge(e);if(t)for(var r=He(t,e),o=r.next(),a=o.done,i=o.value;!1===a;){if(n(i))return i;var c=r.next();a=c.done,i=c.value}return null}(e,Qe)},r=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,a=He(n,r),i=a.next(),c=i.done,l=i.value;!1===c;){if(o(l))return l;var u=a.next();c=u.done,l=u.value}return null}({from:document.activeElement,root:e,predicate:Qe})||t()},o=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,a=e.skipChildren,i=We(n,r,void 0!==a&&a),c=i.next(),l=c.done,u=c.value;!1===l;){if(o(u))return u;var s=i.next();l=s.done,u=s.value}return null}({from:document.activeElement,root:e,predicate:Qe})||n()},a=Ze({element:e,lock:function(){var a=function(n){(function(n){return n.target!==e&&!e.contains(n.target)})(n)&&(n.preventDefault(),n.stopImmediatePropagation())},i=function(e){Ye(e)&&(e.preventDefault(),function(e){var a=document.activeElement===document.body;if(e.shiftKey){var i=a?t():r();i&&i.focus()}else{var c=a?n():o();c&&c.focus()}}(e))};return document.addEventListener("mousedown",a,{capture:!0,passive:!1}),document.addEventListener("keydown",i,{capture:!0,passive:!1}),function(){document.removeEventListener("mousedown",a,{capture:!0,passive:!1}),document.removeEventListener("keydown",i,{capture:!0,passive:!1})}}});return function(){a()}},Qe=function(e){return!function(e){return e.hasAttribute&&e.hasAttribute("tabIndex")&&Number(e.getAttribute("tabindex"))<0}(e)&&Pe(e)},Ye=function(e){return"Tab"===e.key||9===e.keyCode},Xe=[],Ze=function(e){var n,t=e.lock;Xe.length>0&&(n=Xe[Xe.length-1]).unlock();var r={lock:t,unlock:t()};return Xe.push(r),function(){if(0!==Xe.length){var e=Xe[Xe.length-1];r===e?(Xe.pop(),r.unlock(),n&&(n.unlock=n.lock())):console.warn("you must deactivate trap in the same order they were activated")}else console.warn("cannot deactivate an already deactivated trap")}},$e=function(e){if("object"!==K(e)||1!==e.nodeType)throw new TypeError("getScrollableParent first argument must be DOM node");var n=e;return"fixed"===Te(n,"position")?en(n.ownerDocument):dn(n)||en(n.ownerDocument)},en=function(e){if("scrollingElement"in e)return e.scrollingElement;if(an(e))return e.documentElement;var n=e.body,t=n&&!/body/i.test(n.tagName)?nn(n):n;return t&&rn(t)?null:t},nn=function(e){for(var n=e;n=n.nextSibling;)if(1===n.nodeType&&tn(n))return n;return null},tn=function(e){return e.ownerDocument.body===e},rn=function(e){if(!ln(e))return!1;if(on(e))return!1;var n=e.ownerDocument.documentElement;return!!ln(n)&&!on(n)},on=function(e){var n=Te(e,"display");return"none"!==n&&("table-row"!==n&&"table-group"!==n&&"table-column"!==n||"collapsed"!==Te(e,"visibility"))},an=function(e){return!!/^CSS1/.test(e.compatMode)&&cn(e)},cn=function(e){var n=e.createElement("iframe");n.style.height="1px",(e.body||e.documentElement||e).appendChild(n);var t=n.contentWindow.document;t.write('<!DOCTYPE html><div style="height:9999em">x</div>'),t.close();var r=t.documentElement.scrollHeight>t.body.scrollHeight;return n.parentNode.removeChild(n),r},ln=function(e){return!un(e)||!sn(e)},un=function(e){return"visible"===Te(e,"overflow-x")||"visible"===Te(e,"overflow")},sn=function(e){return"visible"===Te(e,"overflow-y")||"visible"===Te(e,"overflow")},dn=function(e){for(var n=Te(e,"position"),t=e.parentNode;t;)if("absolute"!==n||"static"!==Te(t,"position")){if(ln(t))return t;t=t.parentNode}return null},mn=t.useEffect,fn={position:"fixed",zIndex:1e3,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.46)"},vn={position:"absolute",top:"10%",left:"6%",right:"6%",bottom:"8%",overscrollBehavior:"contain",outline:"none",maxWidth:"620px",margin:"0 auto"},pn=function(e){var r=e.children,o=e.isOpen,a=e.closeMethod,i=void 0===a?"display-none":a,c=e.stealFocus,l=void 0===c||c,u=e.restoreStolenFocus,s=void 0===u||u,d=e.trapFocus,m=void 0===d||d,f=e.requestCloseOnEscape,v=void 0===f||f,p=e.requestCloseOnClickOutside,E=void 0!==p&&p,b=e.onAfterOpen,g=void 0===b?function(){}:b,h=e.onRequestClose,y=void 0===h?function(){}:h,N=e.onFocusIn,x=void 0===N?function(){}:N,C=e.onFocusOut,k=void 0===C?function(){}:C,w=e.overlayProps,S=void 0===w?{}:w,O=qe(e,["children","isOpen","closeMethod","stealFocus","restoreStolenFocus","trapFocus","requestCloseOnEscape","requestCloseOnClickOutside","onAfterOpen","onRequestClose","onFocusIn","onFocusOut","overlayProps"]),A=t.useState(null),M=B(A,2),D=M[0],I=M[1],q=Boolean(D);return Y((function(e){return!e&&q}),[q])&&g(),mn((function(){if(!q)return function(){};var e=function(e){x(e)},n=function(e){hn(D)||k(e)};return D.addEventListener("focus",e,!0),document.addEventListener("focus",n,!0),function(){D.removeEventListener("focus",e,!0),document.removeEventListener("focus",n,!0)}}),[q,x,k]),mn((function(){return q?function(e){for(var n=[],t=e.previousSibling;t;)1===t.nodeType&&ln(t)&&n.push(t),t=t.previousSibling;var r=$e(e);n.push(r);var o=n.map((function(e){var n=e.style.overflow||null;return e.style.overflow="hidden",function(){e.style.overflow=n}}));return function(){o.forEach((function(e){e()}))}}(D):function(){}}),[q]),mn((function(){if(!q||!m)return function(){};var e=gn(D);return Je(e)}),[q,m]),mn((function(){if(!q||!l)return function(){};var e=document.activeElement,n=gn(D),t=Ve(n);return t&&t.focus(),function(){t&&("function"==typeof s?s(e):!0===s&&e.focus())}}),[q,l]),mn((function(){if(!q)return function(){};var e=bn(D),n=function(e){if(e.preventDefault(),!hn(D)){var n=gn(D),t=Ve(n);t&&t.focus()}};return e.addEventListener("mousedown",n,{passive:!1}),function(){e.removeEventListener("mousedown",n,{passive:!1})}}),[q]),mn((function(){if(!q)return function(){};var e=[];return Array.from(D.parentNode.children).forEach((function(n){n!==D&&e.push(n)})),e.forEach((function(e){e.setAttribute("aria-hidden","true")})),function(){e.forEach((function(e){e.removeAttribute("aria-hidden","true")}))}}),[q]),"dom-remove"!==i||o?n.createPortal(t.createElement("div",Ie({style:P(P(P({},fn),o?{}:En(i)),S.style),hidden:!o&&"hidden-attribute"===i||void 0,ref:function(e){I(e),S.ref&&S.ref(e)},onClick:function(e){if(E){var n=gn(D),t=e.target;t===n||n.contains(t)||y(e)}S.onClick&&S.onClick(e)},onKeyDown:function(e){v&&e.keyCode===yn&&y(e),S.onKeyDown&&S.onKeyDown(e)}},S),t.createElement("div",Ie({tabIndex:"-1",style:P(P({},vn),O.style)},O),r)),document.body):null},En=function(e){return"display-none"===e?{display:"none"}:"visibility-hidden"===e?{visibility:"hidden"}:{}},bn=function(e){return e},gn=function(e){return e.firstChild},hn=function(e){var n=document.activeElement;return e===n||e.contains(n)},yn=27,Nn=function(e){return t.createElement(t.Fragment,null,t.createElement(xn,null),t.createElement(pn,Ie({overlayProps:{className:"dialog--overlay"},className:"dialog"},e)))},xn=function(){return t.createElement(V,{href:"/src/dialog/dialog.css"})};xn=t.memo(xn);var Cn=function(){var e=w();return t.createElement("div",{className:"score-area"},e?t.createElement(kn,null):null)},kn=function(){var e=ve(),n=w(),r=t.useState(!1),o=B(r,2),a=o[0],i=o[1];return t.createElement(t.Fragment,null,t.createElement("div",{className:"bonds"}),f(n)?t.createElement(wn,null):null,t.createElement("div",{className:"round-score",onClick:function(){i(!0)}},e),t.createElement(Sn,{dialogIsOpen:a,closeDialog:function(){i(!1)}}))},wn=function(){return t.createElement("div",{className:"pirate-hook"})},Sn=function(e){var n=e.dialogIsOpen,r=e.closeDialog;return t.createElement(Nn,{isOpen:n,onRequestClose:r,requestCloseOnClickOutside:!0},t.createElement("div",{className:"border border-right"}),t.createElement("div",{className:"border border-left"}),t.createElement("div",{className:"border border-top"}),t.createElement("div",{className:"border border-bottom"}),t.createElement("div",{className:"dialog-title"},"Score"),t.createElement("div",{className:"dialog-content score-rules-dialog"},t.createElement("div",{className:"dialog-body"},t.createElement("div",{className:"dialog-box"},t.createElement("div",{className:"dialog-label"},"Combinaisons de dés"),t.createElement("div",{className:"columns"},t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Symbols identiques"),t.createElement("span",{className:"symbol-number"},"3"),t.createElement("span",{className:"symbol-number"},"4"),t.createElement("span",{className:"symbol-number"},"5"),t.createElement("span",{className:"symbol-number"},"6"),t.createElement("span",{className:"symbol-number"},"7"),t.createElement("span",{className:"symbol-number"},"8")),t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Points"),t.createElement("span",{className:"points"},"+100"),t.createElement("span",{className:"points"},"+200"),t.createElement("span",{className:"points"},"+500"),t.createElement("span",{className:"points"},"+1000"),t.createElement("span",{className:"points"},"+2000"),t.createElement("span",{className:"points"},"+4000")))),t.createElement("div",{className:"dialog-box"},t.createElement("div",{className:"dialog-label"},"Dés spéciaux"),t.createElement("div",{className:"columns"},t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Symbol"),t.createElement("img",{src:"src/dices/dice_coin.png"}),t.createElement("img",{src:"src/dices/dice_diamond.png"})),t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Points"),t.createElement("span",{className:"points"},"+100"),t.createElement("span",{className:"points"},"+100")))),t.createElement("div",{className:"dialog-box last"},t.createElement("div",{className:"dialog-label"},"Bonus coffre plein"),t.createElement("div",{className:"columns"},t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Dés utilisés"),t.createElement("span",{className:"symbol-number"},"8")),t.createElement("div",{className:"column"},t.createElement("div",{className:"column-title"},"Points"),t.createElement("span",{className:"points"},"+500")))))))},On=function(){var e=w(),n=j(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?O():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?de():r;return!t&&!o}(),o=he();return t.createElement("div",{className:"dice-kept"},t.createElement("div",{className:"dice-area"},t.createElement("div",{className:"box"},v(e)?t.createElement(An,{card:e}):null,E(e)?t.createElement(Mn,{card:e}):null,n.map((function(e){return t.createElement(Me,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"5px"}})}))),t.createElement("div",{className:"top-left-corner"}),t.createElement("div",{className:"top-right-corner"}),t.createElement("div",{className:"bottom-left-corner"}),t.createElement("div",{className:"bottom-right-corner"}),t.createElement(Dn,null)),t.createElement(Cn,null))},An=function(e){var n=e.card;return t.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:U[n].color1,borderColor:U[n].color2,borderWidth:"2px",borderStyle:"solid"}},t.createElement("img",{src:"src/dices/dice_coin.png",style:{width:"100%",height:"100%"}}))},Mn=function(e){var n=e.card;return t.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:U[n].color1,borderColor:U[n].color2,borderWidth:"2px",borderStyle:"solid"}},t.createElement("img",{src:"src/dices/dice_diamond.png",style:{width:"100%",height:"100%"}}))},Dn=function(){return de()?t.createElement("div",{className:"cursed-cover"},t.createElement("img",{src:"src/dice-kept/cursed-cover.png",alt:"cursed-cover"})):null},In=L((function(e){var n=e.cardDeck,t=e.cardsUsed,o=n[0];return P(P({},e),{},{cardDeck:n.slice(1),cardsUsed:[].concat(r(t),[o]),currentCard:o})})),qn=L((function(e){var n=e.cardsUsed;return P(P({},e),{},{cardsUsed:[],cardDeck:z(n)})})),jn={animals:{name:"Animaux",rule:"Les singes et les perroquest obtenus sur les dés comptent comme un même symbol dans une combinaison.",more:"Par exemple 2 perroquets et 3 singes forment une conbinaison de 5 dés identiques, soit 500 points."},chest:{name:"Coffre au trésor",rule:'Lorsque le joueur sauvegarde ses dés, grâce à la carte "Coffre au trésor" les dés sont protégés du mauvais sort.',more:"Ainsi même lorsque le joueur obtient 3 têtes de morts, son tour prends fin, mais il peut marquer les points totalisés grâce aux dés sauvegardés!"},coin:{name:"Pièce d'or",rule:"Le joueur commence son tour avec un symbol pièce d'or. Il rapporte des points aussi bien dans une combinaison de dés que comme simple pièce (+100)."},diamond:{name:"Diamant",rule:"Le joueur commence son tour avec un symbol diamant. Il rapporte des points aussi bien dans une combinaison de dés que comme simple diamant (+100)."},pirate:{name:"Capitaine des pirates",rule:"Grâce à l'aide du capitaine, tous les points comptabilisés pendant ce tour sont doublés !"},witch:{name:"Sorcière",rule:"Avec ses potions magiques, la sorcière permet exceptionnellement au joueur de relancer, une fois, un dé avec une tête de mort."},"1skull":{name:"Tête de mort",rule:"Le tour du joueur débute avec un symbole tête de mort"},"2skulls":{name:"2 têtes de mort",rule:"Le tour du joueur débute avec 2 symboles tête de mort"},"2sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 2 symbols sabres. Si il y parvient, il gagne +300 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -300 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."},"3sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 3 symbols sabres. Si il y parvient, il gagne +500 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -500 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."},"4sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 4 symbols sabres. Si il y parvient, il gagne +1000 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -1000 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."}},Ln=function(){var e=w(),n=ie(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?w():n;return o(t)?a.numberOfSwords:i(t)?c.numberOfSwords:l(t)?u.numberOfSwords:null}();if(!e||!F(e))return null;var s=$(n,g),d=new Array(r).fill("");return t.createElement("div",{className:"sword-challenge-indicators"},d.map((function(e,n){return s>=n+1?t.createElement(Pn,{key:n}):t.createElement(Rn,{key:n})})))},Pn=function(){return t.createElement("div",{className:"sword-icon"},t.createElement("img",{src:"src/dices/dice_sword.png"}))},Rn=function(){return t.createElement("div",{className:"sword-icon disabled"},t.createElement("img",{src:"src/header/swords-disabled.png"}))},Fn=function(){var e=t.useState(!1),n=B(e,2),r=n[0],o=n[1];return t.createElement("div",{className:"header"},t.createElement("div",{className:"card-container",onClick:function(){o(!0)}},t.createElement(Tn,null),t.createElement(Ln,null)),t.createElement(Gn,null),t.createElement(Hn,{dialogIsOpen:r,closeDialog:function(){o(!1)}}))},Tn=function(){return t.createElement("div",{className:"small-card"},t.createElement(_n,null),t.createElement(Un,null))},_n=function(){var e=w();return e?t.createElement(Bn,{card:e}):t.createElement(Kn,null)},Kn=function(){return t.createElement("div",{className:"card default-card",style:{backgroundImage:"url('src/cards/card_default.png')",backgroundSize:"217px"}})},Bn=function(e){var n=e.card;return t.createElement("div",{className:"card current-card",style:{backgroundColor:U[n].color1,borderColor:U[n].color2}},t.createElement("img",{src:"src/cards/card_small-".concat(F(n)?"sword-challenge":n,".png"),alt:n}))},Un=function(){var e=w(),n=W();return e?null:0===n.length?t.createElement(Wn,null):t.createElement(zn,null)},zn=function(){var e=In();return t.createElement("button",{className:"draw-card-btn",onClick:e},"Piocher")},Wn=function(){var e=qn();return t.createElement("button",{className:"draw-card-btn",onClick:e},"Shuffle deck")},Gn=function(){var e=G();return t.createElement("div",{className:"total-score"},t.createElement("span",{className:"score"},e))},Hn=function(e){var n=e.dialogIsOpen,r=e.closeDialog,o=w();return t.createElement(Nn,{isOpen:n,onRequestClose:r,requestCloseOnClickOutside:!0},t.createElement("div",{className:"border border-right"}),t.createElement("div",{className:"border border-left"}),t.createElement("div",{className:"border border-top"}),t.createElement("div",{className:"border border-bottom"}),t.createElement("div",{className:"dialog-title"},"Carte"),t.createElement("div",{className:"dialog-content card-rules-dialog"},t.createElement("div",{className:"dialog-body"},jn[o]&&t.createElement(t.Fragment,null,t.createElement("div",{className:"dialog-label"},"Carte ",jn[o].name),t.createElement("img",{className:"current-card",src:"src/cards/card_".concat(o,".png"),alt:o}),t.createElement("div",{className:"text-rule"},jn[o].rule),jn[o].more?t.createElement("div",{className:"text-rule"},jn[o].more):null))))},Vn=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollDiceAllowed,t=void 0===n?se():n,r=e.markScoreAllowed,o=void 0===r?fe():r,a=e.hasDicesToCurse,i=void 0===a?le():a;return!t&&(!o&&!i)}(),n=Jn();return e?t.createElement("div",{className:"next-round-action"},t.createElement("button",{onClick:n},"Tour suivant")):null},Jn=L((function(e){return P(P({},e),{},{witchUncursedDiceId:null,rollCount:0,dicesRolled:[],dicesCursed:[],dicesKept:[],scoreMarked:!1,currentCard:null,isOnSkullIsland:!1})})),Qn=function(e,n){var t=n.diceParentElement.getBoundingClientRect(),r=t.width-50,o=t.height-50,a=[];return e.forEach((function(e){var n=Yn(e,{dicesRolled:a,xMin:0,xMax:r,yMin:0,yMax:o});a.push(n)})),a},Yn=function(e,n){var t=n.dicesRolled,r=n.xMin,o=n.xMax,a=n.yMin,i=n.yMax,c=Xn(t,{xMin:r,xMax:o,yMin:a,yMax:i}),l=c.x,u=c.y;return P(P({},e),{},{visibleFaceIndex:$n(e),x:l,y:u,rotation:Zn()})},Xn=function(e,n){var t=n.xMin,r=n.xMax,o=n.yMin,a=n.yMax,i=0;return function n(){var c,l={x:et(t,r),y:et(o,a)};return c=l,e.some((function(e){return Ae({top:c.y-6.25,left:c.x-6.25,bottom:c.y+50+6.25,right:c.x+50+6.25},{top:e.y-6.25,left:e.x-6.25,bottom:e.y+50+6.25,right:e.x+50+6.25})}))?++i>50?l:n():l}()},Zn=function(){return et(-35,35)},$n=function(e){return et(0,e.faces.length-1)},et=function(e,n){return Math.floor(Math.random()*(n-e+1)+e)},nt=function(){var e=se(),n=H(),r=tt();return e?t.createElement("div",{className:"roll-action"},t.createElement("button",{onClick:function(){r(n)}},"Lancer")):null},tt=L((function(e,n){var t=e.rollCount,r=e.dices,o=e.dicesRolled;return P(P({},e),{},{rollCount:t+1,dicesRolled:Qn(0===t?r:o,{diceParentElement:n})})})),rt=function(){var e=pe(),n=ve();return t.createElement("div",{className:"actions"},t.createElement(nt,null),t.createElement(ot,{onClick:function(){e(n)}}),t.createElement(Vn,null))},ot=function(e){var n=e.onClick,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?N():n;return t>0}(),o=fe(),a=ve(),i=a<0?"-":"+";return o&&r?t.createElement("div",{className:"collect-action"},t.createElement("button",{onClick:n},t.createElement("span",null,"Collecter"),t.createElement("span",{className:"score"},i," ",Math.abs(a)))):null},at=function(){var e=w(),n=k(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.witchUncursedDiceId,t=void 0===n?C():n,r=e.currentCard,o=void 0===r?w():r,a=e.threeSkullsOrMoreInCursedArea,i=void 0===a?de():a;return!!S(o)&&(!i&&!t)}(),o=ge();return t.createElement("div",{className:"skull-island"},S(e)?t.createElement(ct,null):null,t.createElement("div",{className:"bottle"},t.createElement("div",{className:"area"},n.map((function(e){return t.createElement(Me,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"1px 5px"}})})),D(e)?t.createElement(it,{card:e}):null,q(e)?t.createElement(t.Fragment,null,t.createElement(it,{card:e}),t.createElement(it,{card:e})):null)))},it=function(e){var n=e.card;return t.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"1px 5px",backgroundColor:U[n].color1,borderColor:U[n].color2,borderWidth:"2px"}},t.createElement("img",{src:"src/dices/dice_skull.png",style:{width:"100%",height:"100%"}}))},ct=function(){return t.createElement("div",{className:"witch-label"},t.createElement("img",{src:"src/skull-island/witch-label.png"}),t.createElement("svg",{x:"0px",y:"0px",width:"156.083px",height:"208.667px",viewBox:"0 0 156.083 208.667"},t.createElement("path",{id:"path_01",fill:"none",stroke:"#E4AD30",d:"M8.406,107.82 c2.541,2.178,2.375,2.875,14.25,3.5c14.782,0.778,19.26-11.965,19.26-11.965S47.918,88,40.251,72.917s-18.916,4.583-9.083,8.167 s27.759-1.338,35.142-12.417C74.75,56,77.583,45.333,79.25,37S78.477,15.833,66.31,3.833"}),t.createElement("path",{id:"path_02",fill:"none",stroke:"#E4AD30",d:"M44.031,110.094 c0,0,1,1.313-4.438,3.344s-14.244,7.281-32.125-2"}),t.createElement("path",{id:"path_03",fill:"none",stroke:"#E4AD30",d:"M42.125,103.688 c0,0,1.313,6.594-9.313,8.625S10.281,108.719,9.406,101"}),t.createElement("path",{id:"path_04",fill:"none",stroke:"#E4AD30",d:"M33.114,112.253c0,0,39.886-19.253,43.011,24.747 c0.372,0.447-0.959,1.208-2.542,1.625"})))},lt=t.useMemo;e("Game",(function(){return lt((function(){return t.createElement("div",{id:"mille-sabord-container"},t.createElement(V,{href:"/mille-sabord.css"}),t.createElement(xe,null),t.createElement(Oe,null),t.createElement(Fn,null),t.createElement("div",{className:"dice-kept-and-skulls"},t.createElement(On,null),t.createElement(at,null)),t.createElement(De,null),t.createElement(rt,null))}))}))}}}));
//# sourceMappingURL=game.component-e0201e65.js.map
