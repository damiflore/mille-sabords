System.register(["./main.js"],(function(e,t){"use strict";var n,r,o,u,i,a,c,l,f;return{setters:[function(e){n=e.r,r=e._,o=e.a,u=e.b,i=e.c,a=e.d,c=e.e,l=e.f,f=e.s}],execute:function(){var s,d,v,m=window.requestIdleCallback?function(e){var t=window.requestIdleCallback(e,{timeout:400});return function(){window.cancelIdleCallback(t)}}:function(e){var t=window.requestAnimationFrame(e);return function(){window.cancelAnimationFrame(t)}},h=e("_",(function(e,t){if(null===e)return{};var n,r,o=function(e,t){if(null===e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o})),g=e("f",(function(e,t,n,r){return e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}})),p=function(e){return e.window===e},w=function(e){return 9===e.nodeType},y=(e("i",(function(e){if(1!==e.nodeType)return!1;var t=e.nodeName.toLowerCase();return"input"===t?"hidden"!==e.type&&y(e):["button","select","datalist","iframe","textarea"].indexOf(t)>-1||e.hasAttribute("tabindex")||e.hasAttribute("tabIndex")||e.hasAttribute("draggable")?y(e):["a","area"].indexOf(t)>-1?!1!==e.hasAttribute("href")&&y(e):["audio","video"].indexOf(t)>-1&&(!1!==e.hasAttribute("controls")&&y(e))})),function(e){if(b(e))return!0;if("hidden"===E(e,"visibility"))return!1;for(var t=e;t&&!b(t);){if("none"===E(t,"display"))return!1;t=t.parentNode}return!0}),b=e("a",(function(e){return e===e.ownerDocument.documentElement})),E=e("g",(function(e,t){return function(e){return k(e).getComputedStyle(e)}(e).getPropertyValue(t)})),k=function(e){return p(e)?e:w(e)?e.defaultView:A(e).defaultView},A=function(e){return p(e)?e.document:w(e)?e:e.ownerDocument},C=(e("d",(function(e){var t=k(e),n=A(e);return{x:t.pageXOffset||n.documentElement.scrollLeft,y:t.pageYOffset||n.documentElement.scrollTop}})),n.createContext()),O=function(e,t){return t(e)},P={},j=function(e){var t=e.children;return n.createElement(C.Provider,{value:n.useReducer(O,P)},t)},R=function(e){e=String(e);var t=n.useContext(C),u=t?t[1]:void 0;n.useEffect((function(){return u?i:null}),[]);var i=function(){u((function(t){if(!t.hasOwnProperty(e))return t;if("loading"!==t[e].status)return t;var n={};return Object.keys(t).forEach((function(r){r!==e&&(n[r]=t[r])})),n}))};return t?[function(){u((function(t){return e in t?t:r(r({},t),{},o({},e,{status:"loading"}))}))},function(){u((function(t){return e in t&&"loaded"===t[e].status?t:r(r({},t),{},o({},e,{status:"loaded"}))}))},i]:[function(){},function(){},function(){}]},S=function(){var e=n.useContext(C);return e?e[0]:null},x=function(e,t){var n=g(e,"load",(function(){r(),t()})),r=g(e,"error",(function(){n(),t()}));return function(){n(),r()}},L=e("S",(function(e){var t=e.href,r=R(t),o=u(r,2),i=o[0],a=o[1];return n.useEffect((function(){return i(),I(t,{onload:a})}),[t]),null})),I=(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onload,r=void 0===n?function(){}:n,o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var u=x(o,r);return o.href=e,document.head.appendChild(o),function(){u(),document.head.removeChild(o)}},d=new Map,v=function(e){if(d.has(e)){var t=d.get(e),n=t.useCount,o=h(t,["useCount"]);n>1?d.set(e,r({useCount:n-1},o)):(d.delete(e),o.linkCleanup())}},function(e){if(d.has(e)){var t=d.get(e),n=t.useCount,o=h(t,["useCount"]);return d.set(e,r({useCount:n+1},o)),v}for(var u=arguments.length,i=new Array(u>1?u-1:0),a=1;a<u;a++)i[a-1]=arguments[a];var c=s.apply(void 0,[e].concat(i));return d.set(e,{useCount:1,linkCleanup:c}),v});function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};var B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};var U=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}var M=function(){var e=n.useState(!1),t=u(e,2),r=t[0],o=t[1];return n.useEffect((function(){return m((function(){o(!0)}))}),[]),r},T=e("l",(function(e,t,n){return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}));function F(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var V=window.navigator.serviceWorker;function z(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function D(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}function Y(e,t){var n=e();return n&&n.then?n.then(t):t(n)}var q,H=Boolean(V)&&"https:"===document.location.protocol,K=null,Q=null,G=(q=[],{listen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.once,r=void 0!==n&&n;if(r){var o=e;e=function(){i(),o.apply(void 0,arguments)}}q=[].concat(a(q),[e]);var u=!1,i=function(){if(!u){u=!0;for(var t=[],n=q.length,r=!0;n--;){var o=q[n];r&&o===e?r=!1:t.push(o)}q=t}};return i},emit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];q.forEach((function(e){e.apply(void 0,t)}))}}),X=function(e){Q&&Q===e?console.log("we already know this worker is updating"):(e?console.log("found a worker updating (worker state is: ".concat(e.state,")")):console.log("worker update is done"),Q=e,G.emit())},J=(e("s",(function(){return Boolean(K)})),e("h",(function(){return Q?{shouldBecomeNavigatorController:Boolean(V.controller),navigatorWillReload:$}:null})),e("j",(function(e){return G.listen(e)})),e("k",z((function(){return K?F(K,(function(e){return F(e.update(),(function(e){var t=e.installing;if(t)return console.log("installing worker found after calling update()"),X(t),!0;var n=e.waiting;return n?(console.log("waiting worker found after calling update()"),X(n),!0):(console.log("no worker found after calling update()"),!1)}))})):(console.warn("registerServiceWorker must be called before checkServiceWorkerUpdate can be used"),!1)}))),function(e){if(Q)return function(e,t){var n=new MessageChannel,r=n.port1,o=n.port2;return new Promise((function(n,u){r.onmessage=function(e){"rejected"===e.data.status?u(e.data.value):n(e.data.value)},e.postMessage(t,[o])}))}(Q,e);console.warn("no service worker updating to send message to")}),Z=(e("m",z((function(e){if(!Q)throw new Error("no service worker update to activate");return Z(Q,e)}))),z((function(e){var t=!1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onActivating,o=void 0===r?function(){}:r,u=n.onActivated,i=void 0===u?function(){}:u,a=n.onBecomesNavigatorController,c=void 0===a?function(){}:a,l=e.state,f=function(){return new Promise((function(t){var n=T(e,"statechange",(function(){"activating"===e.state&&o(),"activated"===e.state&&(i(),n(),t())}))}))};return Y((function(){if("installed"===l||"activating"===l)return"installed"===l&&J({action:"skipWaiting"}),D(f,(function(){if(V.controller)var e=T(V,"controllerchange",(function(){e(),c(),X(null),te()}));else X(null),te();t=!0}))}),(function(e){if(t)return e;c(),X(null),te()}))}))),$=!0,ee=!1,te=function(){ee||(ee=!0,window.location.reload())};H&&T(V,"controllerchange",te);var ne=function(e,t){var n=new Image;return t&&(n.crossOrigin=t),new Promise((function(t,r){var o=function(e){re(n),r(e)};n.onload=function(e){re(n),t(e.target||e.srcElement)},n.onerror=o,n.onabort=o,n.src=e}))},re=function(e){e.onload=null,e.onerror=null,e.onabort=null;try{delete e.src}catch(e){}};function oe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function ie(){}function ae(e,t){if(!t)return e&&e.then?e.then(ie):Promise.resolve()}function ce(e){var t=e();if(t&&t.then)return t.then(ie)}function le(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function fe(e){if(e&&e.then)return e.then(ie)}var se=ue((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.chunkSize,r=void 0===n?7:n,o=t.msDelayBetweenChunks,u=void 0===o?2e3:o,i=0,a={},c={},l=ue((function(e){return oe(Promise.all(e.map(ue((function(e){return fe(le((function(){return oe(ne(e),(function(t){a[e]=t}))}),(function(){c[e]=!0})))})))),(function(){return oe(new Promise((function(e){setTimeout(e,u)})),(function(){var e=f();return ce((function(){if(e.length>0)return ae(l(e))}))}))}))})),f=function(){for(var t=[],n=0;n<r&&i<e.length;)t.push(e[i]),n++,i++;return t};return oe(l(f()),(function(){return{loaded:a,failed:c}}))})),de=new URL(System.resolve("./assets/wood-3c23f120.jpg",t.meta.url),t.meta.url),ve=new URL(System.resolve("./assets/pirate-hook-02fba0b6.png",t.meta.url),t.meta.url),me=new URL(System.resolve("./assets/pirate-hook-02-3db1b696.png",t.meta.url),t.meta.url),he=new URL(System.resolve("./assets/wood-box-fcdd41cc.jpg",t.meta.url),t.meta.url),ge=new URL(System.resolve("./assets/treasure-map-6ec97baa.png",t.meta.url),t.meta.url),pe=new URL(System.resolve("./assets/witch-label-f95d3d2f.png",t.meta.url),t.meta.url),we=new URL(System.resolve("./assets/skull-bottle-7c833fb2.png",t.meta.url),t.meta.url),ye=function(){var e=M();return n.useEffect((function(){e&&function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scope;if(!H)return function(){};var n=!1,r=function(){},o=function(){};F(K=V.register(e,{scope:t}),(function(e){if(r=function(){e.unregister()},n)r();else{var t=e.installing;e.waiting,e.active,o=T(e,"updatefound",(function(){console.log("browser notifies use an worker is installing"),e.installing!==t?X(e.installing):console.log("it's not an worker update, it's first time worker registers")}))}}))}("/service-worker.js")}),[e]),e?n.createElement(be,null):null},be=function(){var e=[de,ve,me,he,ge,pe,we,c].concat(a(Object.keys(l).map((function(e){return l[e]}))));return n.useEffect((function(){var t=setTimeout((function(){return se(e)}),2e3);return function(){clearTimeout(t)}}),[]),null};var Ee=e("c",Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function ke(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var Ae=new Map;function Ce(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Oe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var Pe="loading",je="loaded",Re="failed",Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.lazy,o=void 0!==r&&r,i=Ae.get(e),a=i?je:Pe,c=n.useState(a),l=u(c,2),f=l[0],s=l[1],d=n.useRef(!1);n.useEffect((function(){return d.current=!0,function(){d.current=!1}}),[]);var v=n.useCallback(Oe((function(){if(f!==je)return Ce((function(){return ke(ne(e),(function(t){d.current?(Ae.set(e,t),s(je)):console.log("image unmounted")}))}),(function(){d.current&&(Ae.delete(e),s(Re))}))})),[s,e]);return n.useEffect((function(){o||v()}),[o]),[f,v]},xe=(e("e",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.layout,u=void 0!==o&&o,i=n.useRef(!0);(u?n.useLayoutEffect:n.useEffect)((function(){if(!i.current)return e();i.current=!1}),t)})),e("b",(function(e,t){var n=xe(e,t);return Boolean(n)})),function(e,t){var r=n.useRef(!1);n.useEffect((function(){!1===r.current&&(r.current=!0)}));var o=n.useRef(t);return n.useEffect((function(){o.current=t}),t),r.current&&e.apply(void 0,a(o.current))?{from:o.current,to:t}:null}),Le=e("u",(function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e}),[e]),t.current})),Ie=e("I",(function(e){var t=e.loadWhenIntersecting,r=void 0===t||t,o=e.usePlaceholderWhileLoading,i=void 0===o||o,a=e.animateLoaded,c=void 0===a||a,l=e.intersectionRoot,f=e.intersectionRootMargin,s=e.intersectionThreshold,d=e.FallbackWhileNotIntersecting,v=void 0===d?Be:d,m=e.FallbackWhileLoading,g=void 0===m?_e:m,p=e.useImageStatusHook,w=void 0===p?Se:p,y=e.src,b=h(e,["loadWhenIntersecting","usePlaceholderWhileLoading","animateLoaded","intersectionRoot","intersectionRootMargin","intersectionThreshold","FallbackWhileNotIntersecting","FallbackWhileLoading","useImageStatusHook","src"]),E=w(y,{lazy:r}),k=u(E,2),A=k[0],C=k[1],O=Le(A),P=R(y),j=u(P,2),S=j[0],x=j[1];n.useEffect((function(){"loading"!==O&&"loading"===A&&S(),"loaded"!==O&&"loaded"===A&&x()}),[O,A]);var L=function(e){var t=e.root,r=e.rootMargin,o=e.threshold,i=void 0===o?0:o,a=n.useState(!1),c=u(a,2),l=c[0],f=c[1],s=n.useRef();return n.useEffect((function(){var e=s.current;if(!e)return null;if(l)return null;var n=new window.IntersectionObserver((function(t){u(t,1)[0].isIntersecting?(n.unobserve(e),f(!0)):f(!1)}),{root:t,rootMargin:r,threshold:i});return n.observe(e),function(){n.disconnect()}}),[l]),[s,l]}({root:l,rootMargin:f,threshold:s}),I=u(L,2),W=I[0],_=I[1],B=Le(_);n.useEffect((function(){r&&!B&&_&&C()}),[r,B,_]);var U=We(),N=u(U,2),M=N[0],T=N[1];return n.useLayoutEffect((function(){c&&"loaded"!==O&&"loaded"===A&&T()}),[c,O,A]),r&&"loaded"!==A&&!_?n.createElement(v,{ref:W}):i&&"loaded"!==A?n.createElement(g,null):n.createElement("img",Ee({src:y,ref:M},b))})),We=function(){var e=n.useRef(),t=n.useCallback((function(){var t=e.current,n=window.getComputedStyle(t).getPropertyValue("opacity");t.animate([{opacity:0},{opacity:n}],{duration:300})}));return[e,t]},_e=n.forwardRef((function(e,t){return n.createElement("img",Ee({src:Ue,ref:t},e))})),Be=n.forwardRef((function(e,t){return n.createElement("img",Ee({src:Ue,ref:t},e))})),Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";var Ne=new URL(System.resolve("./assets/loadscreen-f1f98571.css",t.meta.url),t.meta.url);function Me(){}var Te=function(e){var r,o=n.useRef(),i=M(),a=n.useState(!1),c=u(a,2),l=c[0],s=c[1],d=n.useState(!1),v=u(d,2),h=v[0],g=v[1],p=n.useState(null),w=u(p,2),y=w[0],b=w[1],E=n.useState(!1),k=u(E,2),A=k[0],C=k[1],O=n.useState(!1),P=u(O,2),j=P[0],R=P[1],x=n.useState(),I=u(x,2)[1],W=(r=S(),Object.keys(r).length),_=function(){var e=S();return Object.keys(e).filter((function(t){return"loaded"===e[t].status})).length}();return n.useEffect((function(){i&&_===W&&s(!0)}),[i,_,W]),n.useEffect((function(){var e;l&&(window.splashscreen.remove(),g(!0),(e=function(){return function(e){if(e&&e.then)return e.then(Me)}(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return e=t.import("./App.js"),n=function(e){g(!1),b(e),m((function(){C(!0)}))},r?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e);var e,n,r}),(function(e){I((function(){throw e}))})))},function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}})())}),[l]),n.useEffect((function(){A&&_===W&&R(!0)}),[A,_,W]),n.useEffect((function(){j&&o&&(o.current.animate([{opacity:1},{opacity:0}],{duration:300,fill:"forwards"}).onfinish=function(){o.current.style.display="none"})}),[o,j]),n.createElement(n.Fragment,null,y?n.createElement(y.App,e):null,n.createElement("div",{id:"loadscreen",ref:o},n.createElement(L,{href:Ne}),n.createElement(Ie,{src:f,animateLoaded:!1}),h?n.createElement("p",{className:"text"},"Chargement du jeu..."):n.createElement(n.Fragment,null,n.createElement("p",{className:"text"},"Chargement du jeu..."),n.createElement("div",{className:"progress"},_,"/",W))),j?n.createElement(ye,null):null)};var Fe,Ve,ze=(Fe=function(e){return n.createElement(j,null,n.createElement(Te,e))},Ve=function(e){var t=e.error;return window.splashscreen.remove(),n.createElement("div",{style:{maxWidth:"100vw"}},n.createElement("div",{style:{margin:"10px 15px"}},"An error occured"),n.createElement("pre",{style:{overflow:"auto",margin:"10px 15px"}},"object"===i(t)?t.stack:t))},function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,r,o,u=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=u.call(this,e)).state={hasError:!1,error:null},t}return t=i,o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(r=[{key:"render",value:function(){return this.state.hasError?n.createElement(Ve,{error:this.state.error}):n.createElement(Fe,this.props)}}])&&W(t.prototype,r),o&&W(t,o),i}(n.Component));e("n",Object.freeze({__proto__:null,Main:ze}))}}}));

//# sourceMappingURL=main.component-1749aa9f.js.map