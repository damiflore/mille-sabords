System.register([],(function(e,t){"use strict";var n,o,r,c;function i(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function a(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function InlineContent(e,t){let{type:n="text/plain"}=t;this.text=e,this.type=n}return{setters:[],execute:function(){!function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e,t="ShadyCSS"in window&&!ShadyCSS.nativeShadow,n=document.implementation.createHTMLDocument(""),o=new WeakMap,r="object"==typeof DOMException?Error:DOMException,c=Object.defineProperty,i=Array.prototype.forEach,a=((e=n.createElement("style")).textContent='.x{content:"y"}',n.body.appendChild(e),'"y"'!==e.sheet.cssRules[0].style.content),s=[/content:\s*["']/gm],u=[/(content:\s*["'])%%%/gm],l=a?function(e){return u.reduce((function(e,t){return e.replace(t,"$1")}),e.cssText)}:function(e){return e.cssText},d=/@import.+?;?$/gm,f=CSSStyleSheet.prototype;f.replace=function(){return Promise.reject(new r("Can't call replace on non-constructed CSSStyleSheets."))},f.replaceSync=function(){throw new r("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var p=new WeakMap,h=new WeakMap,m=new WeakMap,y=I.prototype;y.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},y.replaceSync=function(e){if(j(this),"string"==typeof e){var t=this,n=p.get(t).ownerNode;n.textContent=a?M(x(e)):x(e),p.set(t,n.sheet),h.get(t).forEach((function(e){e.isConnected()&&k(t,T(t,e))}))}},c(y,"cssRules",{configurable:!0,enumerable:!0,get:function(){return j(this),p.get(this).cssRules}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(e){y[e]=function(){var t=this;j(t);var n=arguments;h.get(t).forEach((function(o){if(o.isConnected()){var r=T(t,o).sheet;r[e].apply(r,n)}})),a&&("insertRule"===e&&(n[0]=M(n[0])),"addRule"===e&&(n[1]=M(n[1])));var o=p.get(t);return o[e].apply(o,n)}})),c(I,Symbol.hasInstance,{configurable:!0,value:F});var S={childList:!0,subtree:!0},w=new WeakMap,g=new WeakMap,v=new WeakMap,C=new WeakMap;if(_.prototype={isConnected:function(){var e=g.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},connect:function(){var e=A(this);C.get(this).observe(e,S),v.get(this).length>0&&D(this),L(e,(function(e){N(e).connect()}))},disconnect:function(){C.get(this).disconnect()},update:function(e){var t=this,n=g.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(F))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(O))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var o,r,c=v.get(t),i=(o=e).filter((function(e,t){return o.indexOf(e)===t}));(r=i,c.filter((function(e){return-1===r.indexOf(e)}))).forEach((function(e){var n;(n=T(e,t)).parentNode.removeChild(n),function(e,t){m.get(e).delete(t),h.set(e,h.get(e).filter((function(e){return e!==t})))}(e,t)})),v.set(t,i),t.isConnected()&&i.length>0&&D(t)}},window.CSSStyleSheet=I,W(Document),"ShadowRoot"in window){W(ShadowRoot);var E=Element.prototype,b=E.attachShadow;E.attachShadow=function(e){var t=b.call(this,e);return"closed"===e.mode&&o.set(this,t),t}}var R=N(document);R.isConnected()?R.connect():document.addEventListener("DOMContentLoaded",R.connect.bind(R))}function M(e){return s.reduce((function(e,t){return e.replace(t,"$&%%%")}),e)}function x(e){var t=e.replace(d,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}function P(e){return e.shadowRoot||o.get(e)}function F(e){return"object"==typeof e&&(y.isPrototypeOf(e)||f.isPrototypeOf(e))}function O(e){return"object"==typeof e&&f.isPrototypeOf(e)}function T(e,t){return m.get(e).get(t)}function k(e,t){requestAnimationFrame((function(){var n,o;!function(e){for(var t=0;t<e.cssRules.length;t++)e.deleteRule(0)}(t.sheet),n=p.get(e),o=t.sheet,i.call(n.cssRules,(function(e,t){o.insertRule(l(e),t)}))}))}function j(e){if(!p.has(e))throw new TypeError("Illegal invocation")}function I(){var e=this,t=document.createElement("style");n.body.appendChild(t),p.set(e,t.sheet),h.set(e,[]),m.set(e,new WeakMap)}function N(e){var t=w.get(e);return t||(t=new _(e),w.set(e,t)),t}function W(e){c(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return N(this).sheets},set:function(e){N(this).update(e)}})}function L(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return P(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),o=void 0;o=n.nextNode();)t(P(o))}function A(e){var t=g.get(e);return t instanceof Document?t.body:t}function D(e){var t=document.createDocumentFragment(),n=v.get(e),o=C.get(e),r=A(e);o.disconnect(),n.forEach((function(n){t.appendChild(T(n,e)||function(e,t){var n=document.createElement("style");return m.get(e).set(t,n),h.get(e).push(t),n}(n,e))})),r.insertBefore(t,null),o.observe(r,S),n.forEach((function(t){k(t,T(t,e))}))}function _(e){var n=this;n.sheets=[],g.set(n,e),v.set(n,[]),C.set(n,new MutationObserver((function(e,o){document?e.forEach((function(e){t||i.call(e.addedNodes,(function(e){e instanceof Element&&L(e,(function(e){N(e).connect()}))})),i.call(e.removedNodes,(function(e){e instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&v.get(e).some((function(t){return T(t,e)}))}(n,e)&&D(n),t||L(e,(function(e){N(e).disconnect()})))}))})):o.disconnect()})))}}(),n=new InlineContent("@font-face{font-family:ArrrMateyBb;src:url("+__v__("/other/arrr_matey_bb_wn3.ttf")+");font-display:swap}#splashscreen{font-family:ArrrMateyBb;font-size:50px}",{type:"text/css"}),(o=new CSSStyleSheet).replaceSync(n.text),e("loadApp",a((function(e){let{appNode:n}=e;performance.measure("loading app"),document.adoptedStyleSheets=[...document.adoptedStyleSheets,o];const a=r(),s=c(new URL(__v__("/css/app.css"),t.meta.url));return i(a,(function(e){return performance.measure("rendering app"),i(e.createMilleSabordGame({into:n,onLoadProgress:()=>{}}),(function(){return performance.measure("app rendered"),i(Promise.all([s,new Promise((e=>{window.requestIdleCallback?window.requestIdleCallback(e,{timeout:60}):window.requestAnimationFrame(e)}))]),(function(){performance.measure("app displayed")}))}))}))}))),r=a((function(){return i(t.import(__v__("/js/app.es5.js")).then((function(e){return e.ao})),(function(e){return performance.measure("app.js ready"),e}))})),c=function(e){try{const t=arguments;let{crossOrigin:n}=t.length>1&&void 0!==t[1]?t[1]:{};return i(new Promise(((t,o)=>{const r=document.createElement("link");r.rel="stylesheet",r.onload=t,r.onerror=o,r.href=e,r.crossOrigin=n,document.head.appendChild(r)})),(function(){performance.measure("app.css ready")}))}catch(e){return Promise.reject(e)}}}}}));