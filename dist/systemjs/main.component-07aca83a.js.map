{
  "version": 3,
  "file": "main.component.js",
  "sources": [
    "../../src/cards/card_default.png",
    "../../src/helper/asap.js",
    "../../src/dom/dom.util.js",
    "../../src/loading/loading.main.js",
    "../../src/generic/Stylesheet.jsx",
    "../../node_modules/@jsenv/core/helpers/babel/createClass/createClass.js",
    "../../node_modules/@jsenv/core/helpers/babel/setPrototypeOf/setPrototypeOf.js",
    "../../node_modules/@jsenv/core/helpers/babel/getPrototypeOf/getPrototypeOf.js",
    "../../node_modules/@jsenv/core/helpers/babel/possibleConstructorReturn/possibleConstructorReturn.js",
    "../../node_modules/@jsenv/core/helpers/babel/assertThisInitialized/assertThisInitialized.js",
    "../../node_modules/@jsenv/core/helpers/babel/createSuper/createSuper.js",
    "../../node_modules/@jsenv/core/helpers/babel/isNativeReflectConstruct/isNativeReflectConstruct.js",
    "../../src/error/error.main.js",
    "../../src/wood.jpg",
    "../../src/chest/pirate-hook.png",
    "../../src/chest/pirate-hook-02.png",
    "../../src/chest/wood-box.jpg",
    "../../src/dice-ongoing/treasure-map.png",
    "../../src/skull-island/witch-label.png",
    "../../src/skull-island/skull-bottle.png",
    "../../src/loading/loadImage.js",
    "../../src/loading/preloadImages.js",
    "../../src/loading/ImagePreloader.jsx",
    "../../node_modules/@jsenv/core/helpers/babel/extends/extends.js",
    "../../node_modules/@jsenv/core/helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../../node_modules/@jsenv/core/helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../../src/loading/useImage.js",
    "../../src/generic/OnceIntersectingSuspense.js",
    "../../src/generic/Image.jsx",
    "../../loadscreen.css",
    "../../src/main.component.js",
    "../../node_modules/@jsenv/core/helpers/babel/inherits/inherits.js",
    "../../node_modules/@jsenv/core/helpers/babel/classCallCheck/classCallCheck.js"
  ],
  "sourcesContent": [
    "export default import.meta.ROLLUP_FILE_URL_7755e30f",
    "export const requestAsapCallback = window.requestIdleCallback\n  ? (callback) => {\n      const requestId = window.requestIdleCallback(callback, { timeout: 400 })\n      return () => {\n        window.cancelIdleCallback(requestId)\n      }\n    }\n  : (callback) => {\n      const requestId = window.requestAnimationFrame(callback)\n      return () => {\n        window.cancelAnimationFrame(requestId)\n      }\n    }\n",
    "/* eslint-disable valid-jsdoc */\n\nexport const addDomEventListener = (domNode, eventName, callback, options) => {\n  domNode.addEventListener(eventName, callback, options)\n  return () => {\n    domNode.removeEventListener(eventName, callback, options)\n  }\n}\n\n// checking if somthing is window is tricky\n// we could also use a.constructor.name === 'Window'\n// but it's safer to use approach below\nexport const elementIsWindow = (a) => a.window === a\n\nexport const elementIsDocument = (a) => a.nodeType === 9\n\nexport const elementIsIframe = ({ nodeName }) => nodeName === \"IFRAME\"\n\nexport const isFocusable = (node) => {\n  // only element node can be focused, document, textNodes etc cannot\n  if (node.nodeType !== 1) {\n    return false\n  }\n  const nodeName = node.nodeName.toLowerCase()\n\n  if (nodeName === \"input\") {\n    if (node.type === \"hidden\") {\n      return false\n    }\n    return isVisible(node)\n  }\n\n  if ([\"button\", \"select\", \"datalist\", \"iframe\", \"textarea\"].indexOf(nodeName) > -1) {\n    return isVisible(node)\n  }\n\n  if (node.hasAttribute(\"tabindex\") || node.hasAttribute(\"tabIndex\")) {\n    return isVisible(node)\n  }\n\n  if (node.hasAttribute(\"draggable\")) {\n    return isVisible(node)\n  }\n\n  if ([\"a\", \"area\"].indexOf(nodeName) > -1) {\n    if (node.hasAttribute(\"href\") === false) {\n      return false\n    }\n    return isVisible(node)\n  }\n\n  if ([\"audio\", \"video\"].indexOf(nodeName) > -1) {\n    if (node.hasAttribute(\"controls\") === false) {\n      return false\n    }\n    return isVisible(node)\n  }\n\n  return false\n}\n\nexport const isVisible = (node) => {\n  if (isDocumentElement(node)) {\n    return true\n  }\n  if (getStyleValue(node, \"visibility\") === \"hidden\") {\n    return false\n  }\n\n  let nodeOrAncestor = node\n  while (nodeOrAncestor) {\n    if (isDocumentElement(nodeOrAncestor)) {\n      break\n    }\n    if (getStyleValue(nodeOrAncestor, \"display\") === \"none\") {\n      return false\n    }\n    nodeOrAncestor = nodeOrAncestor.parentNode\n  }\n\n  return true\n}\n\n// https://github.com/davidtheclark/tabbable/blob/master/index.js\nexport const isDocumentElement = (node) => node === node.ownerDocument.documentElement\n\nexport const getStyle = (element) => elementToOwnerWindow(element).getComputedStyle(element)\n\nexport const getStyleValue = (element, name) => getStyle(element).getPropertyValue(name)\n\n/**\n * elementToOwnerWindow returns the window owning the element.\n * Usually an element window will just be window.\n * But when an element is inside an iframe, the window of that element\n * is iframe.contentWindow\n * It's often important to work with the correct window because\n * element are scoped per iframes.\n */\nexport const elementToOwnerWindow = (element) => {\n  if (elementIsWindow(element)) return element\n\n  if (elementIsDocument(element)) return element.defaultView\n\n  return elementToOwnerDocument(element).defaultView\n}\n\n/**\n * elementToOwnerDocument returns the document containing the element.\n * Usually an element document is window.document.\n * But when an element is inside an iframe, the document of that element\n * is iframe.contentWindow.document\n * It's often important to work with the correct document because\n * element are scoped per iframes.\n */\nexport const elementToOwnerDocument = (element) => {\n  if (elementIsWindow(element)) return element.document\n\n  if (elementIsDocument(element)) return element\n\n  return element.ownerDocument\n}\n\nexport const getDocumentScroll = (element) => {\n  const elementWindow = elementToOwnerWindow(element)\n  const elementDocument = elementToOwnerDocument(element)\n  return {\n    x: elementWindow.pageXOffset || elementDocument.documentElement.scrollLeft,\n    y: elementWindow.pageYOffset || elementDocument.documentElement.scrollTop,\n  }\n}\n\n/**\n * elementToOwnerIframe returns the iframe owning the element or null\n * when element is not inside an iframe.\n */\nexport const elementToOwnerIframe = (element) => {\n  const elementOwnerWindow = elementToOwnerWindow(element)\n  // element is not inside an iframe because it is owned by window\n  // if element is window itself, elementOwnerWindow is window too\n  // because elementToOwnerWindow(window) returns window\n  if (elementOwnerWindow === window) return null\n\n  const parentDocument = elementOwnerWindow.parent.document\n  return Array.from(parentDocument.querySelectorAll(\"iframe\")).find(\n    (iframe) => iframeIsFriendly(iframe) && iframe.contentWindow.document.contains(element),\n  )\n}\n\n/**\n * This function is used to ensure we are allowed to manipulate an iframe.\n * If we don't do this check before doing stuff like adding 'mousemove' event\n * to the iframe, it will throw an error.\n * A friendly iframe is usually an iframe with src set to 'about:blank'.\n * The opposite of a friendly iframe is an iframe on an other domain.\n */\nexport const iframeIsFriendly = (iframe) => {\n  const key = `${Number(new Date())}${Math.random()}`\n  const value = {}\n\n  try {\n    const iframeWindow = iframe.contentWindow\n    iframeWindow[key] = value\n    const isFriendly = iframeWindow[key] === value\n    delete iframeWindow[key]\n    return isFriendly\n  } catch (e) {\n    return false\n  }\n}\n",
    "import React from \"react\"\nimport { addDomEventListener } from \"src/dom/dom.util.js\"\n\nconst UrlLoadingContext = React.createContext()\nconst reducer = (state, action) => action(state)\nconst initialState = {}\n\nconst logs = false\n\nexport const UrlLoadingProvider = ({ children }) => {\n  return (\n    <UrlLoadingContext.Provider value={React.useReducer(reducer, initialState)}>\n      {children}\n    </UrlLoadingContext.Provider>\n  )\n}\n\nexport const useUrlTrackerTotalCount = () => {\n  const urlLoadingState = useUrlLoadingState()\n  const totalCount = Object.keys(urlLoadingState).length\n  return totalCount\n}\n\nexport const useUrlTrackerLoadedCount = () => {\n  const urlLoadingState = useUrlLoadingState()\n  const loadedCount = Object.keys(urlLoadingState).filter(\n    (url) => urlLoadingState[url].status === \"loaded\",\n  ).length\n  return loadedCount\n}\n\nexport const useUrlTrackerAllLoaded = () => {\n  const totalCount = useUrlTrackerTotalCount()\n  const loadedCount = useUrlTrackerLoadedCount()\n  return loadedCount === totalCount\n}\n\nexport const useUrlLoadingNotifier = (url) => {\n  const contextValue = React.useContext(UrlLoadingContext)\n  if (!contextValue) {\n    // if (import.meta.dev) {\n    //   console.warn(`useUrlLoadingNotifier was called on a component without UrlLoadingContext`)\n    // }\n    return () => {}\n  }\n\n  const dispatch = contextValue[1]\n\n  const loadStarts = () => {\n    dispatch((state) => {\n      if (url in state) {\n        // console.log(\"start loading early return\", url, state[url])\n        return state\n      }\n      if (logs) {\n        console.log(\"start loading\", url)\n      }\n      return {\n        ...state,\n        [url]: { status: \"loading\" },\n      }\n    })\n  }\n\n  const loadEnds = () => {\n    dispatch((state) => {\n      if (url in state && state[url].status === \"loaded\") {\n        // console.log(\"end loading early return\", url, state[url])\n        return state\n      }\n      if (logs) {\n        console.log(\"end loading\", url)\n      }\n      return {\n        ...state,\n        [url]: { status: \"loaded\" },\n      }\n    })\n  }\n\n  React.useEffect(() => {\n    loadStarts()\n  }, [])\n\n  return loadEnds\n}\n\nexport const useDOMNodeLoadingNotifier = (url) => {\n  const loadEnds = useUrlLoadingNotifier(url)\n\n  const nodeRefCallback = (node) => {\n    if (node) {\n      addLoadedListener(node, loadEnds)\n    }\n  }\n\n  return nodeRefCallback\n}\n\nconst useUrlLoadingState = () => {\n  const contextValue = React.useContext(UrlLoadingContext)\n  if (!contextValue) {\n    // if (import.meta.dev) {\n    //   console.warn(`useUrlLoadingState was called on a component without UrlLoadingContext`)\n    // }\n    return null\n  }\n  return contextValue[0]\n}\n\nexport const useSingleUrlLoadingTracker = (url) => useUrlLoadingState()[url]\n\nconst addLoadedListener = (domNode, callback) => {\n  const removeLoadListener = addDomEventListener(domNode, \"load\", () => {\n    removeErrorListener()\n    callback()\n  })\n  const removeErrorListener = addDomEventListener(domNode, \"error\", () => {\n    removeLoadListener()\n    callback()\n  })\n\n  return () => {\n    removeLoadListener()\n    removeErrorListener()\n  }\n}\n",
    "import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { useDOMNodeLoadingNotifier } from \"src/loading/loading.main.js\"\n\nexport const Stylesheet = ({ href }) => {\n  const ref = useDOMNodeLoadingNotifier(href)\n\n  return ReactDOM.createPortal(\n    <link href={href} ref={ref} rel=\"stylesheet\" type=\"text/css\" />,\n    document.head,\n  )\n}\n",
    "export default (Constructor, protoProps, staticProps) => {\n  if (protoProps) defineProperties(Constructor.prototype, protoProps)\n  if (staticProps) defineProperties(Constructor, staticProps)\n  return Constructor\n}\n\nfunction defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i]\n    descriptor.enumerable = descriptor.enumerable || false\n    descriptor.configurable = true\n    if (\"value\" in descriptor) descriptor.writable = true\n    Object.defineProperty(target, descriptor.key, descriptor)\n  }\n}\n",
    "export default Object.setPrototypeOf ||\n  ((o, p) => {\n    // eslint-disable-next-line no-proto\n    o.__proto__ = p\n    return o\n  })\n",
    "export default Object.setPrototypeOf\n  ? Object.getPrototypeOf\n  : // eslint-disable-next-line no-proto\n    (o) => o.__proto__ || Object.getPrototypeOf(o)\n",
    "import assertThisInitialized from \"../assertThisInitialized/assertThisInitialized.js\"\n\nexport default (self, call) => {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call\n  }\n  return assertThisInitialized(self)\n}\n",
    "export default (self) => {\n  // eslint-disable-next-line no-void\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\n  }\n  return self\n}\n",
    "import getPrototypeOf from \"../getPrototypeOf/getPrototypeOf.js\"\nimport isNativeReflectConstruct from \"../isNativeReflectConstruct/isNativeReflectConstruct.js\"\nimport possibleConstructorReturn from \"../possibleConstructorReturn/possibleConstructorReturn.js\"\n\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct()\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived)\n    var result\n    if (hasNativeReflectConstruct) {\n      // NOTE: This doesn't work if this.__proto__.constructor has been modified.\n      var NewTarget = getPrototypeOf(this).constructor\n      // eslint-disable-next-line prefer-rest-params\n      result = Reflect.construct(Super, arguments, NewTarget)\n    } else {\n      // eslint-disable-next-line prefer-rest-params\n      result = Super.apply(this, arguments)\n    }\n    return possibleConstructorReturn(this, result)\n  }\n}\n",
    "export default function isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false\n  // core-js@3\n  if (Reflect.construct.sham) return false\n  // Proxy can't be polyfilled. Every browser implemented\n  // proxies before or at the same time as Reflect.construct,\n  // so if they support Proxy they also support Reflect.construct.\n  if (typeof Proxy === \"function\") return true\n  // Since Reflect.construct can't be properly polyfilled, some\n  // implementations (e.g. core-js@2) don't set the correct internal slots.\n  // Those polyfills don't allow us to subclass built-ins, so we need to\n  // use our fallback implementation.\n  try {\n    // If the internal slots aren't set, this throws an error similar to\n    //   TypeError: this is not a Date object.\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}))\n    return true\n  } catch (e) {\n    return false\n  }\n}\n",
    "import React from \"react\"\n\nexport const catchError = (LowerLevelComponent, ComponentDisplayedOnError) => {\n  class ErrorBoundary extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        hasError: false,\n        error: null,\n      }\n    }\n\n    static getDerivedStateFromError(error) {\n      return {\n        hasError: true,\n        error,\n      }\n    }\n\n    render() {\n      if (this.state.hasError) {\n        return <ComponentDisplayedOnError error={this.state.error} />\n      }\n      return <LowerLevelComponent {...this.props} />\n    }\n  }\n\n  return ErrorBoundary\n}\n",
    "export default import.meta.ROLLUP_FILE_URL_83f7c188",
    "export default import.meta.ROLLUP_FILE_URL_d3a52034",
    "export default import.meta.ROLLUP_FILE_URL_96b5fd78",
    "export default import.meta.ROLLUP_FILE_URL_59eb28fc",
    "export default import.meta.ROLLUP_FILE_URL_89551536",
    "export default import.meta.ROLLUP_FILE_URL_bdc26469",
    "export default import.meta.ROLLUP_FILE_URL_72eb81d2",
    "// https://vincenttaverna.com/posts/react-image-hook/\nexport const loadImage = (url, crossOrigin) => {\n  const image = new Image()\n\n  if (crossOrigin) {\n    image.crossOrigin = crossOrigin\n  }\n\n  return new Promise((resolve, reject) => {\n    // Load Handler\n    const loaded = (event) => {\n      // Cleanup our image element, we no longer need it\n      unbindEvents(image)\n      // Fulfill our promise with the event image element, even in older browsers\n      resolve(event.target || event.srcElement)\n    }\n\n    // Error Handler\n    const errored = (error) => {\n      // Cleanup our image element, we no longer need it\n      unbindEvents(image)\n      // Forward our error to the user\n      reject(error)\n    }\n\n    // Set our handlers\n    image.onload = loaded\n    image.onerror = errored\n    image.onabort = errored\n\n    // Tell the browser we are ready to begin downloading\n    image.src = url\n  })\n}\n\nconst unbindEvents = (image) => {\n  // Reset callbacks\n  image.onload = null\n  image.onerror = null\n  image.onabort = null\n\n  try {\n    // Some browsers need you to remove the src\n    // in order to garbage collect the image object\n    delete image.src\n  } catch (e) {\n    // Safari's strict mode throws, ignore\n  }\n}\n",
    "import { loadImage } from \"./loadImage.js\"\n\nexport const preloadImages = async (\n  images,\n  { chunkSize = 7, msDelayBetweenChunks = 2000 } = {},\n) => {\n  let index = 0\n  const loaded = {}\n  const failed = {}\n\n  const preloadChunk = async (chunk) => {\n    await Promise.all(\n      chunk.map(async (src) => {\n        try {\n          const image = await loadImage(src)\n          loaded[src] = image\n        } catch (error) {\n          failed[src] = true\n        }\n      }),\n    )\n    await new Promise((resolve) => {\n      setTimeout(resolve, msDelayBetweenChunks)\n    })\n    const nextChunk = getNextChunk()\n    if (nextChunk.length > 0) {\n      await preloadChunk(nextChunk)\n    }\n  }\n\n  const getNextChunk = () => {\n    const chunk = []\n    let i = 0\n    while (i < chunkSize && index < images.length) {\n      chunk.push(images[index])\n      i++\n      index++\n    }\n    return chunk\n  }\n\n  await preloadChunk(getNextChunk())\n\n  return { loaded, failed }\n}\n",
    "import React from \"react\"\n\nimport { cardDefaultUrl, cardImageUrlMap } from \"src/cards/cards.js\"\n\nimport woodUrl from \"src/wood.jpg\"\nimport pirateHookUrl from \"src/chest/pirate-hook.png\"\nimport pirateHook2Url from \"src/chest/pirate-hook-02.png\"\nimport woodBoxUrl from \"src/chest/wood-box.jpg\"\nimport treasureMapUrl from \"src/dice-ongoing/treasure-map.png\"\nimport witchLabelUrl from \"src/skull-island/witch-label.png\"\nimport skullBottleUrl from \"src/skull-island/skull-bottle.png\"\nimport { preloadImages } from \"src/loading/preloadImages.js\"\n\nexport const ImagePreloader = () => {\n  const images = [\n    woodUrl,\n    pirateHookUrl,\n    pirateHook2Url,\n    woodBoxUrl,\n    treasureMapUrl,\n    witchLabelUrl,\n    skullBottleUrl,\n    cardDefaultUrl,\n    ...Object.keys(cardImageUrlMap).map((key) => cardImageUrlMap[key]),\n  ]\n\n  React.useEffect(() => {\n    const timeoutId = setTimeout(() => preloadImages(images), 2000)\n    return () => {\n      clearTimeout(timeoutId)\n    }\n  }, [])\n\n  return null\n}\n",
    "function assign(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    var source = arguments[i]\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  }\n  return target\n}\n\nexport default Object.assign || assign\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import React from \"react\"\nimport { loadImage } from \"./loadImage.js\"\n\nconst cache = new Map()\n\nexport const Status = {\n  LOADING: \"loading\",\n  LOADED: \"loaded\",\n  FAILED: \"failed\",\n}\n\nexport const useImage = (src) => {\n  const cachedImg = cache.get(src)\n  const initialState = cachedImg ? Status.LOADED : Status.LOADING\n  const [status, setStatus] = React.useState(initialState)\n  const mounted = React.useRef(false)\n\n  React.useEffect(() => {\n    if (!src || status === Status.LOADED) {\n      return () => {}\n    }\n    mounted.current = true\n    ;(async () => {\n      try {\n        const image = await loadImage(src)\n        if (!mounted.current) return\n\n        cache.set(src, image)\n        setStatus(Status.LOADED)\n      } catch (error) {\n        if (!mounted.current) return\n\n        cache.delete(src)\n        setStatus(Status.FAILED)\n      }\n    })()\n\n    return () => {\n      mounted.current = false\n    }\n  }, [src, status])\n\n  return [status, cachedImg]\n}\n",
    "import React from \"react\"\n\nexport const OnceIntersectingSuspense = ({\n  fallback,\n  root,\n  rootMargin,\n  threshold = 0,\n  children,\n}) => {\n  const [isIntersecting, isIntersectingSetter] = React.useState(false)\n  const [node, nodeSetter] = React.useState(null)\n\n  React.useEffect(() => {\n    if (!node) {\n      return () => {}\n    }\n    if (isIntersecting) {\n      return () => {}\n    }\n\n    // https://developer.mozilla.org/fr/docs/Web/API/Intersection_Observer_API\n    const observer = new window.IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          observer.unobserve(node)\n          isIntersectingSetter(true)\n        } else {\n          isIntersectingSetter(false)\n        }\n      },\n      {\n        root,\n        rootMargin,\n        threshold,\n      },\n    )\n    observer.observe(node)\n\n    return () => {\n      observer.disconnect()\n    }\n  }, [node, isIntersecting])\n\n  if (!isIntersecting) {\n    return fallback({ ref: nodeSetter })\n  }\n\n  return <>{children}</>\n}\n",
    "import React from \"react\"\n\nimport { useUrlLoadingNotifier } from \"src/loading/loading.main.js\"\nimport { useImage } from \"src/loading/useImage.js\"\nimport { OnceIntersectingSuspense } from \"./OnceIntersectingSuspense.js\"\n\nexport const Image = ({\n  loadWhenIntersecting = true,\n  usePlaceholderWhileLoading = true,\n  animateLoaded = true,\n\n  intersectionRoot,\n  intersectionRootMargin,\n  intersectionThreshold,\n  FallbackWhileNotIntersecting = ImageNotIntersectingFallback,\n  FallbackWhileLoading = ImageLoadingFallback,\n  src,\n  ...props\n}) => {\n  const [status] = useImage(src)\n  const imageLoadEnds = useUrlLoadingNotifier(src)\n  React.useEffect(() => {\n    if (status === \"loaded\") {\n      imageLoadEnds()\n    }\n  }, [status])\n\n  let Component = <img {...props} src={src} />\n\n  if (animateLoaded) {\n    Component = <AnimateImageLoaded {...props} src={src} />\n  }\n\n  if (usePlaceholderWhileLoading) {\n    const ComponentPrevious = Component\n    Component = (\n      <OnceImageLoadedSuspense src={src} fallback={<FallbackWhileLoading {...props} />}>\n        {ComponentPrevious}\n      </OnceImageLoadedSuspense>\n    )\n  }\n\n  if (loadWhenIntersecting) {\n    const ComponentPrevious = Component\n    Component = (\n      <OnceIntersectingSuspense\n        fallback={({ ref }) => <FallbackWhileNotIntersecting ref={ref} {...props} />}\n        root={intersectionRoot}\n        rootMargin={intersectionRootMargin}\n        threshold={intersectionThreshold}\n      >\n        {ComponentPrevious}\n      </OnceIntersectingSuspense>\n    )\n  }\n\n  return Component\n}\n\nconst AnimateImageLoaded = (props) => {\n  const nodeRef = React.useRef()\n  const statusRef = React.useRef()\n  const [status] = useImage(props.src)\n\n  React.useEffect(() => {\n    if (statusRef.current !== status && status === \"loaded\") {\n      nodeRef.current.animate([{ opacity: 0 }, { opacity: 1 }], {\n        duration: 300,\n        fill: \"forwards\",\n      })\n    }\n    statusRef.current = status\n  }, [statusRef, status, nodeRef])\n\n  return <img {...props} ref={nodeRef} />\n}\n\nconst OnceImageLoadedSuspense = ({ fallback, src, children }) => {\n  const [status] = useImage(src)\n\n  if (status !== \"loaded\") {\n    return fallback\n  }\n\n  return children\n}\n\n// eslint-disable-next-line react/display-name\nconst ImageLoadingFallback = React.forwardRef((props, ref) => {\n  return <img src={TRANSPARENT_PNG_DATA_URL} {...props} ref={ref} />\n})\n\n// eslint-disable-next-line react/display-name\nconst ImageNotIntersectingFallback = React.forwardRef((props, ref) => {\n  return <img src={TRANSPARENT_PNG_DATA_URL} {...props} ref={ref} />\n})\n\nconst TRANSPARENT_PNG_DATA_URL =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n",
    "export default import.meta.ROLLUP_FILE_URL_06d39578",
    "/* eslint-disable import/max-dependencies */\nimport React from \"react\"\nimport { requestAsapCallback } from \"src/helper/asap.js\"\nimport { Stylesheet } from \"src/generic/Stylesheet.jsx\"\nimport { catchError } from \"src/error/error.main.js\"\nimport {\n  UrlLoadingProvider,\n  useUrlTrackerTotalCount,\n  useUrlTrackerLoadedCount,\n} from \"src/loading/loading.main.js\"\nimport { ImagePreloader } from \"src/loading/ImagePreloader.jsx\"\nimport { symbolSkullUrl } from \"src/symbols/symbols.js\"\nimport { Image } from \"src/generic/Image.jsx\"\n\nimport loadscreenCssUrl from \"../loadscreen.css\"\n\nconst MainRaw = (props) => {\n  return (\n    <UrlLoadingProvider>\n      <LoadScreen {...props}></LoadScreen>\n    </UrlLoadingProvider>\n  )\n}\n\nconst LoadScreen = (props) => {\n  const loadscreenRef = React.useRef()\n  const [loadscreenUrlTrackerReady, loadscreenUrlTrackerReadySetter] = React.useState(false)\n  const [loadscreenUrlsLoaded, loadscreenUrlsLoadedSetter] = React.useState(false)\n\n  // main must wait for loadscreen + request idle callback before starting\n  const [mainImportLoading, mainImportLoadingSetter] = React.useState(false)\n  const [mainImportNamespace, mainImportNamespaceSetter] = React.useState(null)\n  const [mainUrlTrackerReady, mainUrlTrackerReadySetter] = React.useState(false)\n  const [mainUrlsLoaded, mainsUrlsLoadedSetter] = React.useState(false)\n  const [, mainUrlErrorSetter] = React.useState()\n\n  const urlTrackerTotalCount = useUrlTrackerTotalCount()\n  const urlTrackerLoadedCount = useUrlTrackerLoadedCount()\n\n  React.useEffect(() => {\n    return requestAsapCallback(() => {\n      loadscreenUrlTrackerReadySetter(true)\n    })\n  }, [])\n\n  React.useEffect(() => {\n    if (loadscreenUrlTrackerReady && urlTrackerLoadedCount === urlTrackerTotalCount) {\n      loadscreenUrlsLoadedSetter(true)\n    }\n  }, [loadscreenUrlTrackerReady, urlTrackerLoadedCount, urlTrackerTotalCount])\n\n  React.useEffect(() => {\n    if (!loadscreenUrlsLoaded) {\n      return\n    }\n\n    window.splashscreen.remove()\n\n    mainImportLoadingSetter(true)\n    ;(async () => {\n      try {\n        const namespace = await import(\"./App.jsx\")\n        mainImportLoadingSetter(false)\n        mainImportNamespaceSetter(namespace)\n        requestAsapCallback(() => {\n          mainUrlTrackerReadySetter(true)\n        })\n      } catch (e) {\n        // https://github.com/facebook/react/issues/14981\n        mainUrlErrorSetter(() => {\n          throw e\n        })\n      }\n    })()\n  }, [loadscreenUrlsLoaded])\n\n  React.useEffect(() => {\n    if (mainUrlTrackerReady && urlTrackerLoadedCount === urlTrackerTotalCount) {\n      mainsUrlsLoadedSetter(true)\n    }\n  }, [mainUrlTrackerReady, urlTrackerLoadedCount, urlTrackerTotalCount])\n\n  React.useEffect(() => {\n    if (mainUrlsLoaded && loadscreenRef) {\n      const animation = loadscreenRef.current.animate([{ opacity: 1 }, { opacity: 0 }], {\n        duration: 300,\n        fill: \"forwards\",\n      })\n      animation.onfinish = () => {\n        loadscreenRef.current.style.display = \"none\"\n      }\n    }\n  }, [loadscreenRef, mainUrlsLoaded])\n\n  return (\n    <>\n      {mainImportNamespace ? <mainImportNamespace.App {...props} /> : null}\n      <div id=\"loadscreen\" ref={loadscreenRef}>\n        <Stylesheet href={loadscreenCssUrl} />\n        <Image src={symbolSkullUrl} animateLoaded={false} />\n        {mainImportLoading ? (\n          <p>Chargement du jeu</p>\n        ) : (\n          <p>\n            Chargement de fichiers ({urlTrackerLoadedCount}/{urlTrackerTotalCount})\n          </p>\n        )}\n      </div>\n      {mainUrlsLoaded ? <ImagePreloader /> : null}\n    </>\n  )\n}\n\nconst ErrorScreen = ({ error }) => {\n  window.splashscreen.remove()\n  return (\n    <div>\n      An error occured<pre>{typeof error === \"object\" ? error.stack : error}</pre>\n    </div>\n  )\n}\n\nexport const Main = catchError(MainRaw, ErrorScreen)\n",
    "import setPrototypeOf from \"../setPrototypeOf/setPrototypeOf.js\"\n\nexport default (subClass, superClass) => {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\")\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true,\n    },\n  })\n  if (superClass) setPrototypeOf(subClass, superClass)\n}\n",
    "export default (instance, Constructor) => {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\")\n  }\n}\n"
  ],
  "names": [
    "System",
    "requestAsapCallback",
    "window",
    "requestIdleCallback",
    "callback",
    "requestId",
    "timeout",
    "cancelIdleCallback",
    "requestAnimationFrame",
    "cancelAnimationFrame",
    "addDomEventListener",
    "domNode",
    "eventName",
    "options",
    "addEventListener",
    "removeEventListener",
    "elementIsWindow",
    "a",
    "elementIsDocument",
    "nodeType",
    "isVisible",
    "node",
    "nodeName",
    "toLowerCase",
    "type",
    "indexOf",
    "hasAttribute",
    "isDocumentElement",
    "getStyleValue",
    "nodeOrAncestor",
    "parentNode",
    "ownerDocument",
    "documentElement",
    "element",
    "name",
    "elementToOwnerWindow",
    "getComputedStyle",
    "getStyle",
    "getPropertyValue",
    "defaultView",
    "elementToOwnerDocument",
    "document",
    "UrlLoadingContext",
    "elementWindow",
    "elementDocument",
    "x",
    "pageXOffset",
    "scrollLeft",
    "y",
    "pageYOffset",
    "scrollTop",
    "React",
    "createContext",
    "reducer",
    "state",
    "action",
    "initialState",
    "UrlLoadingProvider",
    "children",
    "Provider",
    "value",
    "useReducer",
    "useUrlLoadingNotifier",
    "url",
    "contextValue",
    "useContext",
    "dispatch",
    "useEffect",
    "status",
    "useUrlLoadingState",
    "addLoadedListener",
    "removeLoadListener",
    "removeErrorListener",
    "Stylesheet",
    "loadEnds",
    "href",
    "ref",
    "ReactDOM",
    "createPortal",
    "rel",
    "head",
    "defineProperties",
    "target",
    "props",
    "i",
    "length",
    "descriptor",
    "enumerable",
    "configurable",
    "writable",
    "Object",
    "defineProperty",
    "key",
    "setPrototypeOf",
    "o",
    "p",
    "__proto__",
    "getPrototypeOf",
    "self",
    "call",
    "_typeof",
    "ReferenceError",
    "assertThisInitialized",
    "_createSuper",
    "Derived",
    "hasNativeReflectConstruct",
    "Reflect",
    "construct",
    "sham",
    "Proxy",
    "Date",
    "prototype",
    "toString",
    "e",
    "isNativeReflectConstruct",
    "result",
    "Super",
    "NewTarget",
    "this",
    "constructor",
    "arguments",
    "apply",
    "possibleConstructorReturn",
    "loadImage",
    "crossOrigin",
    "image",
    "Image",
    "Promise",
    "resolve",
    "reject",
    "errored",
    "error",
    "unbindEvents",
    "onload",
    "event",
    "srcElement",
    "onerror",
    "onabort",
    "src",
    "then",
    "direct",
    "f",
    "args",
    "body",
    "recover",
    "preloadImages",
    "images",
    "chunkSize",
    "msDelayBetweenChunks",
    "index",
    "loaded",
    "failed",
    "preloadChunk",
    "chunk",
    "all",
    "map",
    "setTimeout",
    "nextChunk",
    "getNextChunk",
    "push",
    "ImagePreloader",
    "woodUrl",
    "pirateHookUrl",
    "pirateHook2Url",
    "woodBoxUrl",
    "treasureMapUrl",
    "witchLabelUrl",
    "skullBottleUrl",
    "cardDefaultUrl",
    "keys",
    "cardImageUrlMap",
    "timeoutId",
    "clearTimeout",
    "assign",
    "source",
    "hasOwnProperty",
    "excluded",
    "sourceKeys",
    "objectWithoutPropertiesLoose",
    "getOwnPropertySymbols",
    "sourceSymbolKeys",
    "propertyIsEnumerable",
    "cache",
    "Map",
    "Status",
    "useImage",
    "cachedImg",
    "get",
    "useState",
    "setStatus",
    "mounted",
    "useRef",
    "current",
    "set",
    "delete",
    "OnceIntersectingSuspense",
    "fallback",
    "root",
    "rootMargin",
    "threshold",
    "isIntersecting",
    "isIntersectingSetter",
    "nodeSetter",
    "observer",
    "IntersectionObserver",
    "unobserve",
    "observe",
    "disconnect",
    "loadWhenIntersecting",
    "usePlaceholderWhileLoading",
    "animateLoaded",
    "intersectionRoot",
    "intersectionRootMargin",
    "intersectionThreshold",
    "FallbackWhileNotIntersecting",
    "ImageNotIntersectingFallback",
    "FallbackWhileLoading",
    "ImageLoadingFallback",
    "imageLoadEnds",
    "Component",
    "AnimateImageLoaded",
    "ComponentPrevious",
    "OnceImageLoadedSuspense",
    "nodeRef",
    "statusRef",
    "animate",
    "opacity",
    "duration",
    "fill",
    "forwardRef",
    "TRANSPARENT_PNG_DATA_URL",
    "LoadScreen",
    "urlLoadingState",
    "loadscreenRef",
    "loadscreenUrlTrackerReady",
    "loadscreenUrlTrackerReadySetter",
    "loadscreenUrlsLoaded",
    "loadscreenUrlsLoadedSetter",
    "mainImportLoading",
    "mainImportLoadingSetter",
    "mainImportNamespace",
    "mainImportNamespaceSetter",
    "mainUrlTrackerReady",
    "mainUrlTrackerReadySetter",
    "mainUrlsLoaded",
    "mainsUrlsLoadedSetter",
    "mainUrlErrorSetter",
    "urlTrackerTotalCount",
    "urlTrackerLoadedCount",
    "filter",
    "useUrlTrackerLoadedCount",
    "splashscreen",
    "remove",
    "module",
    "namespace",
    "onfinish",
    "style",
    "display",
    "App",
    "id",
    "loadscreenCssUrl",
    "symbolSkullUrl",
    "_empty",
    "LowerLevelComponent",
    "ComponentDisplayedOnError",
    "Main",
    "stack",
    "subClass",
    "superClass",
    "TypeError",
    "create",
    "Constructor",
    "protoProps",
    "staticProps",
    "instance",
    "hasError"
  ],
  "mappings": "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"
}