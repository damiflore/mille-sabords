
self.serviceWorkerUrls = {
  "/index.html": {
    "versioned": false,
    "version": "1bdf4dab"
  },
  "/other/favicon.png?v=25e95a00": {
    "versioned": true
  },
  "/other/mille-sabords.webmanifest": {
    "versioned": false,
    "version": "3004ee1f"
  },
  "/other/pwa_icon_192.png?v=574c1c76": {
    "versioned": true
  },
  "/other/arrr_matey_bb_wn3.ttf?v=3d20259e": {
    "versioned": true
  },
  "/css/app.css?v=4a687647": {
    "versioned": true
  },
  "/js/app_loader.es5.js?as_js_classic&v=1ef727aa": {
    "versioned": true
  },
  "/js/app.es5.js?as_js_classic&v=82b8a695": {
    "versioned": true
  },
  "/js/s.js?v=b7112655": {
    "versioned": true
  },
  "/other/pwa_icon_512.png?v=d2dd96fd": {
    "versioned": true
  },
  "/other/maskable_icon_192.png?v=c20be9d4": {
    "versioned": true
  },
  "/other/wood-box.jpg?v=fcdd41cc": {
    "versioned": true
  },
  "/other/treasure-map.png?v=6ec97baa": {
    "versioned": true
  },
  "/other/metal.jpg?v=36435573": {
    "versioned": true
  },
  "/other/pirate-hook.png?v=02fba0b6": {
    "versioned": true
  },
  "/other/pirate-hook-02.png?v=3db1b696": {
    "versioned": true
  },
  "/other/skull-bottle.png?v=7c833fb2": {
    "versioned": true
  },
  "/other/sea.jpg?v=096e0699": {
    "versioned": true
  },
  "/other/skullsandcrossbones.ttf?v=70af14b1": {
    "versioned": true
  },
  "/other/pirate_treasure_demo_4b3mb.otf?v=febb1694": {
    "versioned": true
  },
  "/other/wood.jpg?v=3c23f120": {
    "versioned": true
  },
  "/other/card_small-1skull.png?v=3c9f4a9f": {
    "versioned": true
  },
  "/other/card_small-2skulls.png?v=683eae22": {
    "versioned": true
  },
  "/other/card_small-sword-challenge.png?v=dc6ca6cf": {
    "versioned": true
  },
  "/other/card_small-animals.png?v=b931298f": {
    "versioned": true
  },
  "/other/card_small-chest.png?v=b171aea9": {
    "versioned": true
  },
  "/other/card_small-coin.png?v=a99cbd8e": {
    "versioned": true
  },
  "/other/card_small-diamond.png?v=d3b35497": {
    "versioned": true
  },
  "/other/card_small-pirate.png?v=ada07362": {
    "versioned": true
  },
  "/other/card_small-witch.png?v=5e50e07c": {
    "versioned": true
  },
  "/other/card_1skull.png?v=47b3b46a": {
    "versioned": true
  },
  "/other/card_2skulls.png?v=61ce4149": {
    "versioned": true
  },
  "/other/card_2sword-challenge.png?v=5c1924fd": {
    "versioned": true
  },
  "/other/card_3sword-challenge.png?v=4097c59a": {
    "versioned": true
  },
  "/other/card_4sword-challenge.png?v=f3927ba3": {
    "versioned": true
  },
  "/other/card_animals.png?v=e97f74ef": {
    "versioned": true
  },
  "/other/card_chest.png?v=037b957f": {
    "versioned": true
  },
  "/other/card_coin.png?v=19c1c721": {
    "versioned": true
  },
  "/other/card_default.png?v=d777c0de": {
    "versioned": true
  },
  "/other/card_diamond.png?v=ae0da860": {
    "versioned": true
  },
  "/other/card_pirate.png?v=57c15344": {
    "versioned": true
  },
  "/other/card_witch.png?v=24c51955": {
    "versioned": true
  },
  "/other/dice_coin.png?v=37896c9d": {
    "versioned": true
  },
  "/other/dice_diamond.png?v=6c36ed54": {
    "versioned": true
  },
  "/other/dice_monkey.png?v=044ce09c": {
    "versioned": true
  },
  "/other/dice_parrot.png?v=21f5c4b5": {
    "versioned": true
  },
  "/other/dice_skull.png?v=271c6b85": {
    "versioned": true
  },
  "/other/dice_sword.png?v=f0ac96f9": {
    "versioned": true
  },
  "/other/witch-label.png?v=f95d3d2f": {
    "versioned": true
  },
  "/js/root.es5.js?as_js_classic&v=e66a4d68": {
    "versioned": true
  },
  "/css/dialog.base.css?v=83984705": {
    "versioned": true
  },
  "/css/dialog.css?v=8c801825": {
    "versioned": true
  },
  "/other/cursed-grid.png?v=d5dc17c3": {
    "versioned": true
  },
  "/other/swords-disabled.png?v=124616f0": {
    "versioned": true
  },
  "/other/win-treasure.png?v=7f39a7fa": {
    "versioned": true
  },
  "/other/boat.png?v=dc6ca6cf": {
    "versioned": true
  },
  "/other/Luffy.png?v=59728a08": {
    "versioned": true
  },
  "/other/miss_fortune.png?v=4b135ade": {
    "versioned": true
  },
  "/other/JackSparrow.png?v=f439b5cc": {
    "versioned": true
  },
  "/other/BarbeRouge.png?v=b4a9d8e9": {
    "versioned": true
  },
  "/other/GinetteBoulette.png?v=de6a1ce1": {
    "versioned": true
  },
  "/other/CapitaineCrochet.png?v=0ce0da4f": {
    "versioned": true
  },
  "/css/settings.css?v=80c325cc": {
    "versioned": true
  },
  "/other/wood2.png?v=15862f37": {
    "versioned": true
  },
  "/other/wood.png?v=1edfbf4b": {
    "versioned": true
  },
  "/other/stone.png?v=417f342b": {
    "versioned": true
  }
};

var __versionMappings__ = {
  "/js/app_loader.es5.js": "/js/app_loader.es5.js?as_js_classic&v=1ef727aa",
  "/css/app.css": "/css/app.css?v=4a687647",
  "/js/app.es5.js": "/js/app.es5.js?as_js_classic&v=82b8a695",
  "/other/arrr_matey_bb_wn3.ttf": "/other/arrr_matey_bb_wn3.ttf?v=3d20259e",
  "/other/card_small-1skull.png": "/other/card_small-1skull.png?v=3c9f4a9f",
  "/other/card_small-2skulls.png": "/other/card_small-2skulls.png?v=683eae22",
  "/other/card_small-sword-challenge.png": "/other/card_small-sword-challenge.png?v=dc6ca6cf",
  "/other/card_small-animals.png": "/other/card_small-animals.png?v=b931298f",
  "/other/card_small-chest.png": "/other/card_small-chest.png?v=b171aea9",
  "/other/card_small-coin.png": "/other/card_small-coin.png?v=a99cbd8e",
  "/other/card_small-diamond.png": "/other/card_small-diamond.png?v=d3b35497",
  "/other/card_small-pirate.png": "/other/card_small-pirate.png?v=ada07362",
  "/other/card_small-witch.png": "/other/card_small-witch.png?v=5e50e07c",
  "/other/card_1skull.png": "/other/card_1skull.png?v=47b3b46a",
  "/other/card_2skulls.png": "/other/card_2skulls.png?v=61ce4149",
  "/other/card_2sword-challenge.png": "/other/card_2sword-challenge.png?v=5c1924fd",
  "/other/card_3sword-challenge.png": "/other/card_3sword-challenge.png?v=4097c59a",
  "/other/card_4sword-challenge.png": "/other/card_4sword-challenge.png?v=f3927ba3",
  "/other/card_animals.png": "/other/card_animals.png?v=e97f74ef",
  "/other/card_chest.png": "/other/card_chest.png?v=037b957f",
  "/other/card_coin.png": "/other/card_coin.png?v=19c1c721",
  "/other/card_default.png": "/other/card_default.png?v=d777c0de",
  "/other/card_diamond.png": "/other/card_diamond.png?v=ae0da860",
  "/other/card_pirate.png": "/other/card_pirate.png?v=57c15344",
  "/other/card_witch.png": "/other/card_witch.png?v=24c51955",
  "/other/dice_coin.png": "/other/dice_coin.png?v=37896c9d",
  "/other/dice_diamond.png": "/other/dice_diamond.png?v=6c36ed54",
  "/other/dice_monkey.png": "/other/dice_monkey.png?v=044ce09c",
  "/other/dice_parrot.png": "/other/dice_parrot.png?v=21f5c4b5",
  "/other/dice_skull.png": "/other/dice_skull.png?v=271c6b85",
  "/other/dice_sword.png": "/other/dice_sword.png?v=f0ac96f9",
  "/other/wood.jpg": "/other/wood.jpg?v=3c23f120",
  "/other/pirate-hook.png": "/other/pirate-hook.png?v=02fba0b6",
  "/other/pirate-hook-02.png": "/other/pirate-hook-02.png?v=3db1b696",
  "/other/wood-box.jpg": "/other/wood-box.jpg?v=fcdd41cc",
  "/other/treasure-map.png": "/other/treasure-map.png?v=6ec97baa",
  "/other/witch-label.png": "/other/witch-label.png?v=f95d3d2f",
  "/other/skull-bottle.png": "/other/skull-bottle.png?v=7c833fb2",
  "/js/root.es5.js": "/js/root.es5.js?as_js_classic&v=e66a4d68",
  "/css/dialog.base.css": "/css/dialog.base.css?v=83984705",
  "/css/dialog.css": "/css/dialog.css?v=8c801825",
  "/other/cursed-grid.png": "/other/cursed-grid.png?v=d5dc17c3",
  "/other/swords-disabled.png": "/other/swords-disabled.png?v=124616f0",
  "/other/win-treasure.png": "/other/win-treasure.png?v=7f39a7fa",
  "/other/boat.png": "/other/boat.png?v=dc6ca6cf",
  "/other/Luffy.png": "/other/Luffy.png?v=59728a08",
  "/other/miss_fortune.png": "/other/miss_fortune.png?v=4b135ade",
  "/other/JackSparrow.png": "/other/JackSparrow.png?v=f439b5cc",
  "/other/BarbeRouge.png": "/other/BarbeRouge.png?v=b4a9d8e9",
  "/other/GinetteBoulette.png": "/other/GinetteBoulette.png?v=de6a1ce1",
  "/other/CapitaineCrochet.png": "/other/CapitaineCrochet.png?v=0ce0da4f",
  "/css/settings.css": "/css/settings.css?v=80c325cc"
};
var __envGlobal__ = typeof self === 'undefined' ? global : self;
__envGlobal__.__v__ = function (specifier) {
  return __versionMappings__[specifier] || specifier
};
!function(){function e(e,n){return(n||"")+" (SystemJS https://git.io/JvFET#"+e+")"}var n,t="undefined"!=typeof Symbol,r="undefined"!=typeof self,o="undefined"!=typeof document,i=r?self:global;if(o){var c=document.querySelector("base[href]");c&&(n=c.href)}if(!n&&"undefined"!=typeof location){var a=(n=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==a&&(n=n.slice(0,a+1))}var u=/\\/g;function s(e,n){if(-1!==e.indexOf("\\")&&(e=e.replace(u,"/")),"/"===e[0]&&"/"===e[1])return n.slice(0,n.indexOf(":")+1)+e;if("."===e[0]&&("/"===e[1]||"."===e[1]&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===e[0]){var t,r=n.slice(0,n.indexOf(":")+1);if(t="/"===n[r.length+1]?"file:"!==r?(t=n.slice(r.length+2)).slice(t.indexOf("/")+1):n.slice(8):n.slice(r.length+("/"===n[r.length])),"/"===e[0])return n.slice(0,n.length-t.length-1)+e;for(var o=t.slice(0,t.lastIndexOf("/")+1)+e,i=[],c=-1,a=0;a<o.length;a++)-1!==c?"/"===o[a]&&(i.push(o.slice(c,a+1)),c=-1):"."===o[a]?"."!==o[a+1]||"/"!==o[a+2]&&a+2!==o.length?"/"===o[a+1]||a+1===o.length?a+=1:c=a:(i.pop(),a+=2):c=a;return-1!==c&&i.push(o.slice(c)),n.slice(0,n.length-t.length)+i.join("")}}function f(e,n){return s(e,n)||(-1!==e.indexOf(":")?e:s("./"+e,n))}function l(e,n,t,r,o){for(var i in e){var c=s(i,t)||i,a=e[i];if("string"==typeof a){var u=p(r,s(a,t)||a,o);u?n[c]=u:v("W1",i,a)}}}function h(e,n){if(n[e])return e;var t=e.length;do{var r=e.slice(0,t+1);if(r in n)return r}while(-1!==(t=e.lastIndexOf("/",t-1)))}function d(e,n){var t=h(e,n);if(t){var r=n[t];if(null===r)return;if(!(e.length>t.length&&"/"!==r[r.length-1]))return r+e.slice(t.length);v("W2",t,r)}}function v(n,t,r,o){console.warn(e(n,[r,t].join(", ")))}function p(e,n,t){for(var r=e.scopes,o=t&&h(t,r);o;){var i=d(n,r[o]);if(i)return i;o=h(o.slice(0,o.lastIndexOf("/")),r)}return d(n,e.imports)||-1!==n.indexOf(":")&&n}var g=t&&Symbol.toStringTag,y=t?Symbol():"@";function m(){this[y]={}}var b,w=m.prototype;function E(n,t,r){var o=n[y][t];if(o)return o;var i=[],c=Object.create(null);g&&Object.defineProperty(c,g,{value:"Module"});var a=Promise.resolve().then((function(){return n.instantiate(t,r)})).then((function(r){if(!r)throw Error(e(2,t));var a=r[1]((function(e,n){o.h=!0;var t=!1;if("string"==typeof e)e in c&&c[e]===n||(c[e]=n,t=!0);else{for(var r in e){n=e[r];r in c&&c[r]===n||(c[r]=n,t=!0)}e&&e.__esModule&&(c.__esModule=e.__esModule)}if(t)for(var a=0;a<i.length;a++){var u=i[a];u&&u(c)}return n}),2===r[1].length?{import:function(e){return n.import(e,t)},meta:n.createContext(t)}:void 0);return o.e=a.execute||function(){},[r[0],a.setters||[]]}),(function(e){throw o.e=null,o.er=e,e})),u=a.then((function(e){return Promise.all(e[0].map((function(r,o){var i=e[1][o];return Promise.resolve(n.resolve(r,t)).then((function(e){var r=E(n,e,t);return Promise.resolve(r.I).then((function(){return i&&(r.i.push(i),!r.h&&r.I||i(r.n)),r}))}))}))).then((function(e){o.d=e}))}));return o=n[y][t]={id:t,i:i,n:c,I:a,L:u,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function S(e,n,t,r){if(!r[n.id])return r[n.id]=!0,Promise.resolve(n.L).then((function(){return n.p&&null!==n.p.e||(n.p=t),Promise.all(n.d.map((function(n){return S(e,n,t,r)})))})).catch((function(e){if(n.er)throw e;throw n.e=null,e}))}w.import=function(e,n){var t=this;return Promise.resolve(t.prepareImport()).then((function(){return t.resolve(String(e),n)})).then((function(e){var n=E(t,e);return n.C||function(e,n){return n.C=S(e,n,n,{}).then((function(){return P(e,n,{})})).then((function(){return n.n}))}(t,n)}))},w.createContext=function(e){var n=this;return{url:e,resolve:function(t,r){return Promise.resolve(n.resolve(t,r||e))}}},w.register=function(e,n){b=[e,n]},w.getRegister=function(){var e=b;return b=void 0,e};var x=Object.freeze(Object.create(null));function P(e,n,t){if(!t[n.id]){if(t[n.id]=!0,!n.e){if(n.er)throw n.er;return n.E?n.E:void 0}var r;return n.d.forEach((function(o){try{var i=P(e,o,t);i&&(r=r||[]).push(i)}catch(e){throw n.e=null,n.er=e,e}})),r?Promise.all(r).then(o):o()}function o(){try{var e=n.e.call(x);if(e)return e=e.then((function(){n.C=n.n,n.E=null}),(function(e){throw n.er=e,n.E=null,e})),n.E=e;n.C=n.n,n.L=n.I=void 0}catch(e){throw n.er=e,e}finally{n.e=null}}}i.System=new m;var O=Promise.resolve(),C={imports:{},scopes:{},depcache:{},integrity:{}};w.importMap=C,w.baseUrl=n;var j,T,R=o;function I(){[].forEach.call(document.querySelectorAll("script"),(function(t){if(!t.sp)if("systemjs-module"===t.type){if(t.sp=!0,!t.src)return;System.import("import:"===t.src.slice(0,7)?t.src.slice(7):f(t.src,n)).catch((function(e){if(e.message.indexOf("https://git.io/JvFET#3")>-1){var n=document.createEvent("Event");n.initEvent("error",!1,!1),t.dispatchEvent(n)}return Promise.reject(e)}))}else if("systemjs-importmap"===t.type){t.sp=!0;var r=t.src?(System.fetch||fetch)(t.src,{integrity:t.integrity,passThrough:!0}).then((function(e){if(!e.ok)throw Error(e.status);return e.text()})).catch((function(n){return n.message=e("W4",t.src)+"\n"+n.message,console.warn(n),"function"==typeof t.onerror&&t.onerror(),"{}"})):t.innerHTML;O=O.then((function(){return r})).then((function(e){return L(C,e,t.src||n),C}))}}))}function L(n,t,r){var o={};try{o=JSON.parse(t)}catch(n){console.warn(Error(e("W5")))}!function(e,n,t){var r;for(r in e.imports&&l(e.imports,t.imports,n,t,null),e.scopes||{}){var o=f(r,n);l(e.scopes[r],t.scopes[o]||(t.scopes[o]={}),n,t,o)}for(r in e.depcache||{})t.depcache[f(r,n)]=e.depcache[r];for(r in e.integrity||{})t.integrity[f(r,n)]=e.integrity[r]}(o,r,n)}if(w.prepareImport=function(e){return(R||e)&&(I(),R=!1),O},o&&(I(),window.addEventListener("DOMContentLoaded",I)),System.extendImportMap=L,o){window.addEventListener("error",(function(e){A=e.filename,W=e.error}));var k=location.origin}w.createScript=function(e){var n=document.createElement("script");n.async=!0,e.indexOf(k+"/")&&(n.crossOrigin="anonymous");var t=C.integrity[e];return t&&(n.integrity=t),n.src=e,n};var A,W,M={},q=w.register,_=0;w.register=function(e,n,t){if(o&&"loading"===document.readyState&&"string"!=typeof e){var r,i=document.querySelectorAll("script"),c=i[i.length-1];j=e,c&&c.src?r=c.src:t?r=t:(_++,r=document.location.href+"__inline_script__"+_);var a=this;T=setTimeout((function(){M[r]=[e,n],a.import(r)}))}else j=void 0;return q.call(this,e,n)},w.instantiate=function(n,t){var r=M[n];if(r)return delete M[n],r;var o=this;return Promise.resolve(w.createScript(n)).then((function(r){return new Promise((function(i,c){r.addEventListener("error",(function(){c(Error(e(3,[n,t].join(", "))))})),r.addEventListener("load",(function(){if(document.head.removeChild(r),A===n)c(W);else{var e=o.getRegister(n);e&&e[0]===j&&clearTimeout(T),i(e)}})),document.head.appendChild(r)}))}))},w.shouldFetch=function(){return!1},"undefined"!=typeof fetch&&(w.fetch=fetch);var U=w.instantiate,J=/^(text|application)\/(x-)?javascript(;|$)/;w.instantiate=function(n,t){var r=this;return this.shouldFetch(n)?this.fetch(n,{credentials:"same-origin",integrity:C.integrity[n]}).then((function(o){if(!o.ok)throw Error(e(7,[o.status,o.statusText,n,t].join(", ")));var i=o.headers.get("content-type");if(!i||!J.test(i))throw Error(e(4,i));return o.text().then((function(e){return e.indexOf("//# sourceURL=")<0&&(e+="\n//# sourceURL="+n),(0,eval)(e),r.getRegister(n)}))})):U.apply(this,arguments)},w.resolve=function(t,r){return p(C,s(t,r=r||n)||t,r)||function(n,t){throw Error(e(8,[n,t].join(", ")))}(t,r)};var B=w.instantiate;w.instantiate=function(e,n){var t=C.depcache[e];if(t)for(var r=0;r<t.length;r++)E(this,this.resolve(t[r],e),e);return B.call(this,e,n)},r&&"function"==typeof importScripts&&(w.instantiate=function(n){var t=this;return self.fetch(n,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw Error(e(7,[t.status,t.statusText,n].join(", ")));return t.text()})).then((function(e){return e.indexOf("//# sourceURL=")<0&&(e+="\n//# sourceURL="+n),(0,eval)(e),t.getRegister(n)}))})}(),function(){var e=("undefined"!=typeof self?self:global).System,n=Object.create(null),t=e.register;e.registerRegistry=n,e.register=function(r,o,i){if("string"!=typeof r)return t.apply(this,arguments);var c=[o,i];return e.prepareImport().then((function(){var a=e.resolve(`./${r}`);return n[a]=c,t.call(e,o,i,a)}))};var r=e.instantiate;e.instantiate=function(e,t){var o=n[e];return o?(n[e]=null,o):r.call(this,e,t)};var o=e.getRegister;e.getRegister=function(e){var t=o.call(this,e);return n[e]||t}}(),function(){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var e=[],n=n=>{e.push(n)};self.addEventListener("message",n);var t=System.register;System.register=function(r,o){return System.register=t,System.registerRegistry[self.location.href]=[r,o],System.import(self.location.href).then((t=>(self.removeEventListener("message",n),e.forEach((e=>{self.dispatchEvent(e)})),e=null,t)))}}}(),System.register([__v__("/js/app.es5.js")],(function(e,n){"use strict";var t,r,o,i,c,a,u,s,f,l,h,d,v,p,g,y,m,b,w,E;function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t}function x(e,n){if(e){if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function P(e,n,t){return t?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e)}function O(e,n){try{var t=e()}catch(e){return n(e)}return t&&t.then?t.then(void 0,n):t}function C(){}function j(e){if(e&&e.then)return e.then(C)}function T(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(e.apply(this,n))}catch(e){return Promise.reject(e)}}}function R(e,n){if(!n)return e&&e.then?e.then(C):Promise.resolve()}function I(e,n){return e&&e.then?e.then(n):n(e)}function L(e){var n=e();if(n&&n.then)return n.then(C)}function k(e,n){var t=e();return t&&t.then?t.then(n):n(t)}return{setters:[function(e){t=e._}],execute:function(){r=e=>{if(Array.isArray(e))return S(e)},o=()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i=e=>r(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||o(),c=e=>{if(Array.isArray(e))return e},a=()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},u=(e,n)=>c(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],c=!0,a=!1;try{for(t=t.call(e);!(c=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);c=!0);}catch(e){a=!0,o=e}finally{try{c||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||x(e,n)||a(),s=e=>typeof e,f=e=>e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?s:f,self.initJsenvServiceWorker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.logLevel,r=void 0===n?"warn":n,o=e.logsBackgroundColor,i=void 0===o?"#ffdc00":o,c=e.cachePrefix,a=void 0===c?"jsenv":c,s=e.urlsConfig,f=void 0===s?{"/":{}}:s,v=e.shouldHandleRequest,p=void 0===v?function(e,n){var t=n.requestWasCachedOnInstall;return("GET"===e.method||"HEAD"===e.method)&&t}:v,g=e.shouldCleanOnActivate,y=void 0===g?function(e,n,t){return!t.requestWasCachedOnInstall}:g,m=e.navigationPreloadEnabled,S=void 0!==m&&m,x=e.actions,C=void 0===x?{ping:function(){return"pong"}}:x;if("object"!==l(f))throw new TypeError("urlsConfig should be an object, got ".concat(f));if("string"!=typeof a)throw new TypeError("cachePrefix should be a string, got ".concat(a));if(0===a.length)throw new TypeError("cachePrefix must not be empty");if("function"!=typeof y)throw new TypeError("shouldCleanOnActivate should be a function, got ".concat(y));if("function"!=typeof p)throw new TypeError("shouldHandleRequest should be a function, got ".concat(p));if("string"!=typeof r)throw new TypeError("logLevel should be a boolean, got ".concat(r));if("string"!=typeof i)throw new TypeError("logsBackgroundColor should be a string, got ".concat(i));if("boolean"!=typeof S)throw new TypeError("navigationPreloadEnabled should be a boolean, got ".concat(S));var A=d({cachePrefix:a}),W=h({logLevel:r,logsBackgroundColor:i}),M=b(),q=w({urlsConfig:f,urlResolver:M}),_=q.urlsToCacheOnInstall,U=q.urlsToReloadOnInstall,J=q.urlMapping;W.info("cache key: ".concat(A)),self.addEventListener("install",(function(e){e.waitUntil(B(e))}));var B=T((function(){return W.info("install start"),j(O((function(){var e=_.length,n=0;return P(Promise.all(_.map(T((function(e){return j(O((function(){var r=U.includes(e),o=new Request(e,t({},r?{cache:"reload"}:{}));return R(N(o,{oncache:function(){n+=1}}))}),(function(n){W.warn("cannot put ".concat(e," in cache due to error while fetching: ").concat(n.stack))})))})))),(function(){n===e?W.info("install done (".concat(e," urls added in cache)")):W.info("install done (".concat(n,"/").concat(e," urls added in cache)"))}))}),(function(e){W.error("install error: ".concat(e.stack))})))}));self.addEventListener("fetch",(function(e){var n=H(e.request);if(p(n,{requestWasCachedOnInstall:_.includes(n.url)})){var t=F(n,e);t&&e.respondWith(t)}}));var F=T((function(e,n){var t=!1;return W.debug("received fetch event for ".concat(e.url)),I(O((function(){return P(self.caches.match(e),(function(r){return r?(W.debug("respond with response from cache for ".concat(e.url)),t=!0,r):P(n.preloadResponse,(function(n){if(n)return W.debug("respond with preloaded response for ".concat(e.url)),t=!0,n}))}))}),(function(n){W.warn("error while trying to use cache for ".concat(e.url),n.stack);var r=fetch(e);return t=!0,r})),(function(n){return t?n:(W.debug("no cache for ".concat(e.url,", fetching it")),N(e))}))})),H=function(e){if(Object.prototype.hasOwnProperty.call(J,e.url)){var n=J[e.url];return W.debug("redirect request from ".concat(e.url," to ").concat(n)),E(e,n)}return e};self.addEventListener("activate",(function(e){var n=D(e);n&&e.waitUntil(n)}));var D=T((function(){return W.info("activate start"),P(Promise.all([G(),K(),$()]),(function(){W.info("activate done")}))})),G=T((function(){return L((function(){if(S&&self.registration.navigationPreload)return R(self.registration.navigationPreload.enable())}))})),K=T((function(){return P(self.caches.open(A),(function(e){return P(e.keys(),(function(n){return R(Promise.all(n.map(T((function(n){return P(e.match(n),(function(t){return L((function(){if(y(t,n,{requestWasCachedOnInstall:_.includes(n.url)}))return W.info("delete ".concat(n.url)),R(e.delete(n))}))}))})))))}))}))})),$=T((function(){return P(self.caches.keys(),(function(e){return R(Promise.all(e.map(T((function(e){return L((function(){if(e!==A&&e.startsWith(a))return W.info("delete cache ".concat(e)),R(self.caches.delete(e))}))})))))}))}));self.addEventListener("message",T((function(e){var n=e.data;if("object"===l(n)){var t=n.action,r=C[t];if(r){var o,i,c=n.payload;return I(O((function(){return P(r(c,{cacheName:A}),(function(e){o="resolved",i=e}))}),(function(e){o="rejected",i=e})),(function(){e.ports[0].postMessage({status:o,value:i})}))}}}))),C=t({skipWaiting:function(){self.skipWaiting()},refreshCacheKey:T((function(e){return e=M.resolve(e),P(N(new Request(e,{cache:"reload"})),(function(e){return e.status}))})),addCacheKey:T((function(e){return e=M.resolve(e),P(N(e),(function(e){return e.status}))})),removeCacheKey:T((function(e){return e=M.resolve(e),P(self.caches.open(A),(function(n){return P(n.delete(e))}))}))},C);var N=T((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.oncache;return P(Promise.all([V(e),Q()]),(function(n){var r=!1,o=u(n,2),i=o[0],c=o[1];return k((function(){if(200===i.status)return W.debug("fresh response found for ".concat(e.url,", put it in cache and respond with it")),P(z(i),(function(n){var o=c.put(e,n);return k((function(){if(t)return P(o,(function(){t()}))}),(function(){return r=!0,i}))}))}),(function(n){return r?n:(W.warn("cannot put ".concat(e.url," in cache due to response status (").concat(i.status,")")),i)}))}))})),z=T((function(e){var n=e.clone();return e.redirected?P("body"in n?Promise.resolve(n.body):n.blob(),(function(e){return new Response(e,{headers:n.headers,status:n.status,statusText:n.statusText})})):n})),V=T((function(e){var n=new AbortController,t=n.signal;return O((function(){return P(fetch(e,{signal:t}))}),(function(e){throw n.abort(),e}))})),Q=T((function(){return self.caches.open(A)}))},h=function(e){var n=e.logLevel,t=e.logsBackgroundColor,r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return["%csw","background: ".concat(t,"; color: black; padding: 1px 3px; margin: 0 1px")].concat(n)},o=function(e){return function(){var n;return(n=console)[e].apply(n,i(r.apply(void 0,arguments)))}},c=o("debug"),a=o("info"),u=o("warn"),s=o("error"),f=function(){};if("debug"===n)return{debug:c,info:a,warn:u,error:s};if("info"===n)return{debug:f,info:a,warn:u,error:s};if("warn"===n)return{debug:f,info:f,warn:u,error:s};if("error"===n)return{debug:f,info:f,warn:f,error:s};if("off"===n)return{debug:f,info:f,warn:f,error:f};throw new Error("unknown logLevel, got ".concat(n))},d=function(e){var n=e.cachePrefix;return"".concat(n).concat(m())},36,4,v=Math.pow(36,4),p=function(e,n){var t="000000000".concat(e);return t.substr(t.length-n)},g=function(){var e=self.crypto;if(e){var n=Math.pow(2,32)-1;return function(){return Math.abs(e.getRandomValues(new Uint32Array(1))[0]/n)}}return Math.random}(),y=function(){return p((g()*v<<0).toString(36),4)},m=function(){var e=(new Date).getTime().toString(36),n="".concat(y()).concat(y());return"".concat(e).concat(n)},b=function(){return{resolve:function(e){return String(new URL(e,self.location))}}},w=function(e){var n=e.urlsConfig,t=e.urlResolver,r=[],o=[],i={},c=[];return Object.keys(n).forEach((function(e){var a=t.resolve(e);if(!c.includes(a)){c.push(a);var u=n[e];u||(u={cache:!1}),!0===u&&(u={cache:!0});var s=u,f=s.cache,l=void 0===f||f,h=s.versioned,d=void 0!==h&&h,v=s.alias;l&&(r.push(a),d||o.push(a)),v&&(i[a]=t.resolve(v))}})),{urlsToCacheOnInstall:r,urlsToReloadOnInstall:o,urlMapping:i}},E=T((function(e,n){if("navigate"!==e.mode)return new Request(n,e);var t=e.clone(),r=t.body,o=t.credentials,i=t.headers,c=t.integrity,a=t.referrer,u=t.referrerPolicy;return P(r?Promise.resolve(r):t.blob(),(function(e){return new Request(n,{body:e,credentials:o,headers:i,integrity:c,referrer:a,referrerPolicy:u,mode:"same-origin",redirect:"manual"})}))})),self.initJsenvServiceWorker({cachePrefix:"mille-sabords",urlsConfig:self.serviceWorkerUrls||{}})}}}));