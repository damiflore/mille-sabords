System.register(["./main.js"],(function(e){"use strict";var n,t,r,o,a,i,c,l,u,s,d,m,f,v,p,E,b,g,h,y,N,x,C,k,w,S,O,A,M,D,I,q,j,L,P,R,F,T,_,K,B,U,z,W,G,H;return{setters:[function(e){n=e.r,t=e._,r=e.i,o=e.T,a=e.a,i=e.b,c=e.c,l=e.F,u=e.d,s=e.S,d=e.e,m=e.f,f=e.g,v=e.h,p=e.j,E=e.k,b=e.l,g=e.m,h=e.s,y=e.u,N=e.n,x=e.o,C=e.p,k=e.q,w=e.t,S=e.v,O=e.w,A=e.x,M=e.y,D=e.z,I=e.A,q=e.B,j=e.C,L=e.D,P=e.E,R=e.G,F=e.H,T=e.I,_=e.J,K=e.K,B=e.L,U=e.M,z=e.N,W=e.O,G=e.P,H=e.Q}],execute:function(){var V=n.useEffect,J=n.useRef,Q=function(e,n){var r=J(!1);V((function(){!1===r.current&&(r.current=!0)}));var o=J(n);return V((function(){o.current=n}),n),!!r.current&&Boolean(e.apply(void 0,t(o.current)))},Y=function(e){var n=e.card,b=e.symbolsFromDicesKept,g=e.scoreMarked,h=e.markScoreAllowed;return r(n)?g||h?X(b,{goal:o.numberOfSwords,gamble:o.gambleAmount}):-o.gambleAmount:a(n)?g||h?X(b,{goal:i.numberOfSwords,gamble:i.gambleAmount}):-i.gambleAmount:c(n)?g||h?X(b,{goal:l.numberOfSwords,gamble:l.gambleAmount}):-l.gambleAmount:u(n)?$(b.map((function(e){return e===s?d:e}))):m(n)?2*$(b):f(n)?$([].concat(t(b),[v]),9):p(n)?$([].concat(t(b),[E]),9):$(b)},X=function(e,n){var t=n.goal,r=n.gamble;return Z(e,b)>=t?$(e)+r:-r},Z=function(e,n){return e.filter((function(e){return e===n})).length},$=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,t=0,r=0,o=ee(e);return Object.values(o).forEach((function(e){3===e&&(t+=100),4===e&&(t+=200),5===e&&(t+=500),6===e&&(t+=1e3),7===e&&(t+=2e3),8===e&&(t+=4e3),e>2&&(r+=e)})),e.forEach((function(e){e===E&&(t+=100,o[E]<3&&(r+=1)),e===v&&(t+=100,o[v]<3&&(r+=1))})),r===n&&(t+=500),t},ee=function(e){var n={};return e.forEach((function(e){n.hasOwnProperty(e)?n[e]++:n[e]=1})),n},ne=n.useMemo,te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return 0===t},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return t>1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?k():n;return f(t)?[v]:p(t)?[E]:M(t)?[D]:I(t)?[D,D]:[]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesKept,t=void 0===n?q():n;return t.map((function(e){return A(e)}))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?de():n;return 3-t},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesToCurse,t=void 0===n?le():n;return t.length>0},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesRolled,t=void 0===n?N():n,r=e.witchUncursedDiceId,o=void 0===r?x():r,a=e.remainingSpotInCursedArea,i=void 0===a?ie():a;return t.filter((function(e){return g(e)&&e.id!==o})).slice(0,i)},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?k():n,r=e.hasNeverRolled,o=void 0===r?te():r,a=e.dicesRolled,i=void 0===a?N():a,c=e.scoreMarked,l=void 0===c?S():c,u=e.threeSkullsOrMoreInCursedArea,s=void 0===u?se():u,d=e.hasDicesToCurse,m=void 0===d?ce():d;return!!t&&(!l&&(!!o||!s&&(!m&&!(i.length<2))))},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skullCountInCursedArea,t=void 0===n?de():n;return t>2},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dicesCursed,t=void 0===n?C():n,r=e.symbolsFromCard,o=void 0===r?oe():r;return t.length+o.filter((function(e){return h(e)})).length},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.hasRolledMoreThanOnce,t=void 0===n?re():n,r=e.scoreMarked,o=void 0===r?S():r,a=e.currentCard,i=void 0===a?k():a,c=e.threeSkullsOrMoreInCursedArea,l=void 0===c?se():c,u=e.hasDicesToCurse,s=void 0===u?ce():u;return!o&&(l?!(!O(i)||!t):!s)},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?k():n,r=e.symbolsFromDicesKept,o=void 0===r?ae():r,a=e.scoreMarked,i=void 0===a?S():a,c=e.markScoreAllowed,l=void 0===c?me():c;return ne((function(){return Y({card:t,symbolsFromDicesKept:o,scoreMarked:i,markScoreAllowed:l})}),[t,o,i,l])},ve=j((function(e,n){var t=e.totalScore;return L({},e,{totalScore:Math.max(t+n,0),scoreMarked:!0})})),pe=j((function(e){return L({},e,{isOnSkullIsland:!0})})),Ee=j((function(e,n){var r=e.dicesRolled,o=e.dicesCursed;return L({},e,{dicesRolled:r.filter((function(e){return e.id!==n.id})),dicesCursed:[].concat(t(o),[n])})})),be=j((function(e,n){var r=e.dicesRolled,o=e.dicesCursed;return L({},e,{witchUncursedDiceId:n.id,dicesRolled:[].concat(t(r),[n]),dicesCursed:o.filter((function(e){return e.id!==n.id}))})})),ge=j((function(e,n){var r=e.dicesRolled,o=e.dicesKept;return L({},e,{dicesRolled:[].concat(t(r),[n]),dicesKept:o.filter((function(e){return e.id!==n.id}))})})),he=j((function(e,n){var r=e.dicesRolled,o=e.dicesKept;return L({},e,{dicesRolled:r.filter((function(e){return e.id!==n.id})),dicesKept:[].concat(t(o),[n])})})),ye=n.useEffect,Ne=function(){return xe(),null},xe=function(){Ce(),ke(),we()},Ce=function(){var e=le(),n=Ee();ye((function(){if(0===e.length)return function(){};var t=setTimeout((function(){e.forEach((function(e){n(e)}))}),1e3);return function(){clearTimeout(t)}}),[e])},ke=function(){var e=k(),n=S(),t=ve(),r=se(),o=Q((function(e){return!e&&r}),[r]),a=fe(),i=R(e);ye((function(){i&&!n&&o&&t(a)}),[i,n,o,a])},we=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return 1===t}(),n=k(),t=P(),r=de(),o=pe();ye((function(){e&&(t||R(n)||r<4||o())}),[e,t,n,r])},Se=function(){return n.createElement("div",{style:{display:"none"}},n.createElement("img",{src:"src/skull-island/witch-label.png"}),n.createElement("img",{src:"src/dice-kept/pirate-hook.png",v:!0}))},Oe=function(e,n){return!(e.right<=n.left)&&(!(e.left>=n.right)&&(!(e.bottom<=n.top)&&!(e.top>=n.bottom)))},Ae=function(e){var t=e.dice,r=e.disabled,o=e.onClickAction,a=e.specificStyle,i=g(t);return n.createElement("button",{disabled:r,"data-dice-id":t.id,ref:F(t.id),onClick:function(){return o(t)},className:"dice",style:L({width:50,height:50,background:i?"black":"#fcfcfc",color:i?"black":"#fcfcfc",borderColor:i?"black":"#b9b9b9"},a)},n.createElement("img",{src:"src/dices/dice_".concat(A(t),".png"),style:{width:"100%",height:"100%"}}))},Me=function(){var e=N(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?S():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?se():r;return!t&&!o}(),r=he();return n.createElement("div",{className:"dice-ongoing"},n.createElement("div",{className:"map"}),n.createElement("div",{className:"area",ref:T()},e.map((function(e){return n.createElement(Ae,{key:e.id,dice:e,disabled:!!g(e)||!t,onClickAction:function(e){r(e)},specificStyle:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),transform:"rotate(".concat(e.rotation,"deg)"),position:"absolute"}})}))))};var De=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ie=function(e){var t=e.href,r=e.children;return t?_.createPortal(n.createElement("link",{href:t,rel:"stylesheet",type:"text/css"}),document.head):_.createPortal(n.createElement("style",{type:"text/css"},r),document.head)},qe=function(e,n){if(null===e)return{};var t,r,o=function(e,n){if(null===e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o},je=function(e){return e.window===e},Le=function(e){return 9===e.nodeType},Pe=function(e){if(1!==e.nodeType)return!1;var n=e.nodeName.toLowerCase();return"input"===n?"hidden"!==e.type&&Re(e):["button","select","datalist","iframe","textarea"].indexOf(n)>-1||e.hasAttribute("tabindex")||e.hasAttribute("tabIndex")||e.hasAttribute("draggable")?Re(e):["a","area"].indexOf(n)>-1?!1!==e.hasAttribute("href")&&Re(e):["audio","video"].indexOf(n)>-1&&(!1!==e.hasAttribute("controls")&&Re(e))},Re=function(e){if(Fe(e))return!0;if("hidden"===Te(e,"visibility"))return!1;for(var n=e;n&&!Fe(n);){if("none"===Te(n,"display"))return!1;n=n.parentNode}return!0},Fe=function(e){return e===e.ownerDocument.documentElement},Te=function(e,n){return function(e){return _e(e).getComputedStyle(e)}(e).getPropertyValue(n)},_e=function(e){return je(e)?e:Le(e)?e.defaultView:Ke(e).defaultView},Ke=function(e){return je(e)?e.document:Le(e)?e:e.ownerDocument},Be=function(e,n){for(var t=ze(e,e),r=t.next(),o=r.done,a=r.value;!1===o;){if(n(a))return a;var i=t.next();o=i.done,a=i.value}return null},Ue=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r){var o=n.firstChild;if(o)return o}var a=n.nextSibling;if(a)return a;var i=n.parentNode;return i&&i!==t?e(i,t,!0):null},ze=function(e,n){var t=e;return{next:function(){var e=Ue(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},We=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,o=!1,a=function(){var e=Ue(r,n,t&&!1===o);return o=!0,r=e,{done:!1===Boolean(e),value:e}};return{next:a}},Ge=function(e){for(var n=e.lastChild;n;){var t=n.lastChild;if(!t)break;n=t}return n},He=function(e,n){var t=e;return{next:function(){var e=function(e,n){var t=e.previousSibling;if(t){var r=Ge(t);return r||t}if(e!==n){var o=e.parentNode;if(o&&o!==n)return o}return null}(t,n);return t=e,{done:!1===Boolean(e),value:e}}}},Ve=function(e){var n=Be(e,Pe);return n||(Pe(e)?e:null)},Je=function(e){if(3===e.nodeType)return console.warn("cannot trap focus inside a text node"),function(){};if(Xe.find((function(n){return n.element===e})))return console.warn("focus already trapped inside this element"),function(){};var n=function(){return Be(e,Qe)},t=function(){return function(e,n){var t=Ge(e);if(t)for(var r=He(t,e),o=r.next(),a=o.done,i=o.value;!1===a;){if(n(i))return i;var c=r.next();a=c.done,i=c.value}return null}(e,Qe)},r=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,a=He(n,r),i=a.next(),c=i.done,l=i.value;!1===c;){if(o(l))return l;var u=a.next();c=u.done,l=u.value}return null}({from:document.activeElement,root:e,predicate:Qe})||t()},o=function(){return function(e){for(var n=e.from,t=e.root,r=void 0===t?null:t,o=e.predicate,a=e.skipChildren,i=We(n,r,void 0!==a&&a),c=i.next(),l=c.done,u=c.value;!1===l;){if(o(u))return u;var s=i.next();l=s.done,u=s.value}return null}({from:document.activeElement,root:e,predicate:Qe})||n()},a=Ze({element:e,lock:function(){var a=function(n){(function(n){return n.target!==e&&!e.contains(n.target)})(n)&&(n.preventDefault(),n.stopImmediatePropagation())},i=function(e){Ye(e)&&(e.preventDefault(),function(e){var a=document.activeElement===document.body;if(e.shiftKey){var i=a?t():r();i&&i.focus()}else{var c=a?n():o();c&&c.focus()}}(e))};return document.addEventListener("mousedown",a,{capture:!0,passive:!1}),document.addEventListener("keydown",i,{capture:!0,passive:!1}),function(){document.removeEventListener("mousedown",a,{capture:!0,passive:!1}),document.removeEventListener("keydown",i,{capture:!0,passive:!1})}}});return function(){a()}},Qe=function(e){return!function(e){return e.hasAttribute&&e.hasAttribute("tabIndex")&&Number(e.getAttribute("tabindex"))<0}(e)&&Pe(e)},Ye=function(e){return"Tab"===e.key||9===e.keyCode},Xe=[],Ze=function(e){var n,t=e.lock;Xe.length>0&&(n=Xe[Xe.length-1]).unlock();var r={lock:t,unlock:t()};return Xe.push(r),function(){if(0!==Xe.length){var e=Xe[Xe.length-1];r===e?(Xe.pop(),r.unlock(),n&&(n.unlock=n.lock())):console.warn("you must deactivate trap in the same order they were activated")}else console.warn("cannot deactivate an already deactivated trap")}},$e=function(e){if("object"!==K(e)||1!==e.nodeType)throw new TypeError("getScrollableParent first argument must be DOM node");var n=e;return"fixed"===Te(n,"position")?en(n.ownerDocument):dn(n)||en(n.ownerDocument)},en=function(e){if("scrollingElement"in e)return e.scrollingElement;if(an(e))return e.documentElement;var n=e.body,t=n&&!/body/i.test(n.tagName)?nn(n):n;return t&&rn(t)?null:t},nn=function(e){for(var n=e;n=n.nextSibling;)if(1===n.nodeType&&tn(n))return n;return null},tn=function(e){return e.ownerDocument.body===e},rn=function(e){if(!ln(e))return!1;if(on(e))return!1;var n=e.ownerDocument.documentElement;return!!ln(n)&&!on(n)},on=function(e){var n=Te(e,"display");return"none"!==n&&("table-row"!==n&&"table-group"!==n&&"table-column"!==n||"collapsed"!==Te(e,"visibility"))},an=function(e){return!!/^CSS1/.test(e.compatMode)&&cn(e)},cn=function(e){var n=e.createElement("iframe");n.style.height="1px",(e.body||e.documentElement||e).appendChild(n);var t=n.contentWindow.document;t.write('<!DOCTYPE html><div style="height:9999em">x</div>'),t.close();var r=t.documentElement.scrollHeight>t.body.scrollHeight;return n.parentNode.removeChild(n),r},ln=function(e){return!un(e)||!sn(e)},un=function(e){return"visible"===Te(e,"overflow-x")||"visible"===Te(e,"overflow")},sn=function(e){return"visible"===Te(e,"overflow-y")||"visible"===Te(e,"overflow")},dn=function(e){for(var n=Te(e,"position"),t=e.parentNode;t;)if("absolute"!==n||"static"!==Te(t,"position")){if(ln(t))return t;t=t.parentNode}return null},mn=n.useEffect,fn={position:"fixed",zIndex:1e3,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.46)"},vn={position:"absolute",top:"10%",left:"6%",right:"6%",bottom:"8%",overscrollBehavior:"contain",outline:"none",maxWidth:"620px",margin:"0 auto"},pn=function(e){var t=e.children,r=e.isOpen,o=e.closeMethod,a=void 0===o?"display-none":o,i=e.stealFocus,c=void 0===i||i,l=e.restoreStolenFocus,u=void 0===l||l,s=e.trapFocus,d=void 0===s||s,m=e.requestCloseOnEscape,f=void 0===m||m,v=e.requestCloseOnClickOutside,p=void 0!==v&&v,E=e.onAfterOpen,b=void 0===E?function(){}:E,g=e.onRequestClose,h=void 0===g?function(){}:g,y=e.onFocusIn,N=void 0===y?function(){}:y,x=e.onFocusOut,C=void 0===x?function(){}:x,k=e.overlayProps,w=void 0===k?{}:k,S=qe(e,["children","isOpen","closeMethod","stealFocus","restoreStolenFocus","trapFocus","requestCloseOnEscape","requestCloseOnClickOutside","onAfterOpen","onRequestClose","onFocusIn","onFocusOut","overlayProps"]),O=n.useState(null),A=B(O,2),M=A[0],D=A[1],I="dom-remove"===a?Boolean(M):r;return Q((function(e){return!e&&I}),[I])&&b(),mn((function(){if(!I)return function(){};var e=function(e){N(e)},n=function(e){hn(M)||C(e)};return M.addEventListener("focus",e,!0),document.addEventListener("focus",n,!0),function(){M.removeEventListener("focus",e,!0),document.removeEventListener("focus",n,!0)}}),[I,N,C]),mn((function(){return I?function(e){for(var n=[],t=e.previousSibling;t;)1===t.nodeType&&ln(t)&&n.push(t),t=t.previousSibling;var r=$e(e);n.push(r);var o=n.map((function(e){var n=e.style.overflow||null;return e.style.overflow="hidden",function(){e.style.overflow=n}}));return function(){o.forEach((function(e){e()}))}}(M):function(){}}),[I]),mn((function(){if(!I||!d)return function(){};var e=gn(M);return Je(e)}),[I,d]),mn((function(){if(!I||!c)return function(){};var e=document.activeElement,n=gn(M),t=Ve(n);return t&&t.focus(),function(){t&&("function"==typeof u?u(e):!0===u&&e.focus())}}),[I,c]),mn((function(){if(!I)return function(){};var e=bn(M),n=function(e){if(e.preventDefault(),!hn(M)){var n=gn(M),t=Ve(n);t&&t.focus()}};return e.addEventListener("mousedown",n,{passive:!1}),function(){e.removeEventListener("mousedown",n,{passive:!1})}}),[I]),mn((function(){if(!I)return function(){};var e=[];return Array.from(M.parentNode.children).forEach((function(n){n!==M&&e.push(n)})),e.forEach((function(e){e.setAttribute("aria-hidden","true")})),function(){e.forEach((function(e){e.removeAttribute("aria-hidden","true")}))}}),[I]),"dom-remove"!==a||r?_.createPortal(n.createElement("div",De({style:L({},fn,{},r?{}:En(a),{},w.style),hidden:!r&&"hidden-attribute"===a||void 0,ref:function(e){D(e),w.ref&&w.ref(e)},onClick:function(e){if(p){var n=gn(M),t=e.target;t===n||n.contains(t)||h(e)}w.onClick&&w.onClick(e)},onKeyDown:function(e){f&&e.keyCode===yn&&h(e),w.onKeyDown&&w.onKeyDown(e)}},w),n.createElement("div",De({tabIndex:"-1",style:L({},vn,{},S.style)},S),t)),document.body):null},En=function(e){return"display-none"===e?{display:"none"}:"visibility-hidden"===e?{visibility:"hidden"}:{}},bn=function(e){return e},gn=function(e){return e.firstChild},hn=function(e){var n=document.activeElement;return e===n||e.contains(n)},yn=27,Nn=function(e){return n.createElement(n.Fragment,null,n.createElement(xn,null),n.createElement(pn,De({overlayProps:{className:"dialog--overlay"},className:"dialog"},e)))},xn=function(){return n.createElement(Ie,{href:"/src/dialog/dialog.css"})};xn=n.memo(xn);var Cn=function(){var e=k();return n.createElement("div",{className:"score-area"},e?n.createElement(kn,null):null)},kn=function(){var e=fe(),t=k(),r=n.useState(!1),o=B(r,2),a=o[0],i=o[1];return n.createElement(n.Fragment,null,n.createElement("div",{className:"bonds"}),m(t)?n.createElement(wn,null):null,n.createElement("div",{className:"round-score",onClick:function(){i(!0)}},e),n.createElement(Sn,{dialogIsOpen:a,closeDialog:function(){i(!1)}}))},wn=function(){return n.createElement("div",{className:"pirate-hook"})},Sn=function(e){var t=e.dialogIsOpen,r=e.closeDialog;return n.createElement(Nn,{isOpen:t,onRequestClose:r,requestCloseOnClickOutside:!0},n.createElement("div",{className:"border border-right"}),n.createElement("div",{className:"border border-left"}),n.createElement("div",{className:"border border-top"}),n.createElement("div",{className:"border border-bottom"}),n.createElement("div",{className:"dialog-title"},"Score"),n.createElement("div",{className:"dialog-content score-rules-dialog"},n.createElement("div",{className:"dialog-body"},n.createElement("div",{className:"dialog-box"},n.createElement("div",{className:"dialog-label"},"Combinaisons de dés"),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Symbols identiques"),n.createElement("span",{className:"symbol-number"},"3"),n.createElement("span",{className:"symbol-number"},"4"),n.createElement("span",{className:"symbol-number"},"5"),n.createElement("span",{className:"symbol-number"},"6"),n.createElement("span",{className:"symbol-number"},"7"),n.createElement("span",{className:"symbol-number"},"8")),n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Points"),n.createElement("span",{className:"points"},"+100"),n.createElement("span",{className:"points"},"+200"),n.createElement("span",{className:"points"},"+500"),n.createElement("span",{className:"points"},"+1000"),n.createElement("span",{className:"points"},"+2000"),n.createElement("span",{className:"points"},"+4000")))),n.createElement("div",{className:"dialog-box"},n.createElement("div",{className:"dialog-label"},"Dés spéciaux"),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Symbol"),n.createElement("img",{src:"src/dices/dice_coin.png"}),n.createElement("img",{src:"src/dices/dice_diamond.png"})),n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Points"),n.createElement("span",{className:"points"},"+100"),n.createElement("span",{className:"points"},"+100")))),n.createElement("div",{className:"dialog-box last"},n.createElement("div",{className:"dialog-label"},"Bonus coffre plein"),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Dés utilisés"),n.createElement("span",{className:"symbol-number"},"8")),n.createElement("div",{className:"column"},n.createElement("div",{className:"column-title"},"Points"),n.createElement("span",{className:"points"},"+500")))))))},On=function(){var e=k(),t=q(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scoreMarked,t=void 0===n?S():n,r=e.threeSkullsOrMoreInCursedArea,o=void 0===r?se():r;return!t&&!o}(),o=ge();return n.createElement("div",{className:"dice-kept"},n.createElement("div",{className:"dice-area"},n.createElement("div",{className:"box"},f(e)?n.createElement(An,{card:e}):null,p(e)?n.createElement(Mn,{card:e}):null,t.map((function(e){return n.createElement(Ae,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"5px"}})}))),n.createElement("div",{className:"top-left-corner"}),n.createElement("div",{className:"top-right-corner"}),n.createElement("div",{className:"bottom-left-corner"}),n.createElement("div",{className:"bottom-right-corner"}),n.createElement(Dn,null)),n.createElement(Cn,null))},An=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:U[t].color1,borderColor:U[t].color2,borderWidth:"2px",borderStyle:"solid"}},n.createElement("img",{src:"src/dices/dice_coin.png",style:{width:"100%",height:"100%"}}))},Mn=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"5px",backgroundColor:U[t].color1,borderColor:U[t].color2,borderWidth:"2px",borderStyle:"solid"}},n.createElement("img",{src:"src/dices/dice_diamond.png",style:{width:"100%",height:"100%"}}))},Dn=function(){return se()?n.createElement("div",{className:"cursed-cover"},n.createElement("img",{src:"src/dice-kept/cursed-cover.png",alt:"cursed-cover"})):null},In=j((function(e){var n=e.cardDeck,r=e.cardsUsed,o=n[0];return L({},e,{cardDeck:n.slice(1),cardsUsed:[].concat(t(r),[o]),currentCard:o})})),qn=j((function(e){var n=e.cardsUsed;return L({},e,{cardsUsed:[],cardDeck:z(n)})})),jn={animals:{name:"Animaux",rule:"Les singes et les perroquest obtenus sur les dés comptent comme un même symbol dans une combinaison.",more:"Par exemple 2 perroquets et 3 singes forment une conbinaison de 5 dés identiques, soit 500 points."},chest:{name:"Coffre au trésor",rule:'Lorsque le joueur sauvegarde ses dés, grâce à la carte "Coffre au trésor" les dés sont protégés du mauvais sort.',more:"Ainsi même lorsque le joueur obtient 3 têtes de morts, son tour prends fin, mais il peut marquer les points totalisés grâce aux dés sauvegardés!"},coin:{name:"Pièce d'or",rule:"Le joueur commence son tour avec un symbol pièce d'or. Il rapporte des points aussi bien dans une combinaison de dés que comme simple pièce (+100)."},diamond:{name:"Diamant",rule:"Le joueur commence son tour avec un symbol diamant. Il rapporte des points aussi bien dans une combinaison de dés que comme simple diamant (+100)."},pirate:{name:"Capitaine des pirates",rule:"Grâce à l'aide du capitaine, tous les points comptabilisés pendant ce tour sont doublés !"},witch:{name:"Sorcière",rule:"Avec ses potions magiques, la sorcière permet exceptionnellement au joueur de relancer, une fois, un dé avec une tête de mort."},"1skull":{name:"Tête de mort",rule:"Le tour du joueur débute avec un symbole tête de mort"},"2skulls":{name:"2 têtes de mort",rule:"Le tour du joueur débute avec 2 symboles tête de mort"},"2sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 2 symbols sabres. Si il y parvient, il gagne +300 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -300 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."},"3sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 3 symbols sabres. Si il y parvient, il gagne +500 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -500 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."},"4sword-challenge":{name:"Bateau pirate",rule:"Le joueur doit obtenir au minimum 4 symbols sabres. Si il y parvient, il gagne +1000 points, en plus de son résultat aux dés. Si il échoue, le joueur marque -1000 points pour ce tour, quelque soit son résultat aux dés.",more:"Le score total ne peut pas descende en dessous de zéro. Ainsi si par exemple le joueur perds le défi au premier tour il restera à 0 points."}},Ln=function(){var e=k(),t=ae(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentCard,t=void 0===n?k():n;return r(t)?o.numberOfSwords:a(t)?i.numberOfSwords:c(t)?l.numberOfSwords:null}();if(!e||!R(e))return null;var s=Z(t,b),d=new Array(u).fill("");return n.createElement("div",{className:"sword-challenge-indicators"},d.map((function(e,t){return s>=t+1?n.createElement(Pn,{key:t}):n.createElement(Rn,{key:t})})))},Pn=function(){return n.createElement("div",{className:"sword-icon"},n.createElement("img",{src:"src/dices/dice_sword.png"}))},Rn=function(){return n.createElement("div",{className:"sword-icon disabled"},n.createElement("img",{src:"src/header/swords-disabled.png"}))},Fn=function(){var e=n.useState(!1),t=B(e,2),r=t[0],o=t[1];return n.createElement("div",{className:"header"},n.createElement("div",{className:"card-container",onClick:function(){o(!0)}},n.createElement(Tn,null),n.createElement(Ln,null)),n.createElement(Gn,null),n.createElement(Hn,{dialogIsOpen:r,closeDialog:function(){o(!1)}}))},Tn=function(){return n.createElement("div",{className:"small-card"},n.createElement(_n,null),n.createElement(Un,null))},_n=function(){var e=k();return e?n.createElement(Bn,{card:e}):n.createElement(Kn,null)},Kn=function(){return n.createElement("div",{className:"card default-card",style:{backgroundImage:"url('src/cards/card_default.png')",backgroundSize:"217px"}})},Bn=function(e){var t=e.card;return n.createElement("div",{className:"card current-card",style:{backgroundColor:U[t].color1,borderColor:U[t].color2}},n.createElement("img",{src:"src/cards/card_small-".concat(R(t)?"sword-challenge":t,".png"),alt:t}))},Un=function(){var e=k(),t=W();return e?null:0===t.length?n.createElement(Wn,null):n.createElement(zn,null)},zn=function(){var e=In();return n.createElement("button",{className:"draw-card-btn",onClick:e},"Piocher")},Wn=function(){var e=qn();return n.createElement("button",{className:"draw-card-btn",onClick:e},"Shuffle deck")},Gn=function(){var e=G();return n.createElement("div",{className:"total-score"},n.createElement("span",{className:"score"},e))},Hn=function(e){var t=e.dialogIsOpen,r=e.closeDialog,o=k();return n.createElement(Nn,{isOpen:t,onRequestClose:r,requestCloseOnClickOutside:!0},n.createElement("div",{className:"border border-right"}),n.createElement("div",{className:"border border-left"}),n.createElement("div",{className:"border border-top"}),n.createElement("div",{className:"border border-bottom"}),n.createElement("div",{className:"dialog-title"},"Carte"),n.createElement("div",{className:"dialog-content card-rules-dialog"},n.createElement("div",{className:"dialog-body"},jn[o]&&n.createElement(n.Fragment,null,n.createElement("div",{className:"dialog-label"},"Carte ",jn[o].name),n.createElement("img",{className:"current-card",src:"src/cards/card_".concat(o,".png"),alt:o}),n.createElement("div",{className:"text-rule"},jn[o].rule),jn[o].more?n.createElement("div",{className:"text-rule"},jn[o].more):null))))},Vn=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollDiceAllowed,t=void 0===n?ue():n,r=e.markScoreAllowed,o=void 0===r?me():r,a=e.hasDicesToCurse,i=void 0===a?ce():a;return!t&&(!o&&!i)}(),t=Jn();return e?n.createElement("div",{className:"next-round-action"},n.createElement("button",{onClick:t},"Tour suivant")):null},Jn=j((function(e){return L({},e,{witchUncursedDiceId:null,rollCount:0,dicesRolled:[],dicesCursed:[],dicesKept:[],scoreMarked:!1,currentCard:null,isOnSkullIsland:!1})})),Qn=function(e,n){var t=n.diceParentElement.getBoundingClientRect(),r=t.width-50,o=t.height-50,a=[];return e.forEach((function(e){var n=Yn(e,{dicesRolled:a,xMin:0,xMax:r,yMin:0,yMax:o});a.push(n)})),a},Yn=function(e,n){var t=n.dicesRolled,r=n.xMin,o=n.xMax,a=n.yMin,i=n.yMax,c=Xn(t,{xMin:r,xMax:o,yMin:a,yMax:i}),l=c.x,u=c.y;return L({},e,{visibleFaceIndex:$n(e),x:l,y:u,rotation:Zn()})},Xn=function(e,n){var t=n.xMin,r=n.xMax,o=n.yMin,a=n.yMax,i=0;return function n(){var c,l={x:et(t,r),y:et(o,a)};return c=l,e.some((function(e){return Oe({top:c.y-6.25,left:c.x-6.25,bottom:c.y+50+6.25,right:c.x+50+6.25},{top:e.y-6.25,left:e.x-6.25,bottom:e.y+50+6.25,right:e.x+50+6.25})}))?++i>50?l:n():l}()},Zn=function(){return et(-35,35)},$n=function(e){return et(0,e.faces.length-1)},et=function(e,n){return Math.floor(Math.random()*(n-e+1)+e)},nt=function(){var e=ue(),t=H(),r=tt();return e?n.createElement("div",{className:"roll-action"},n.createElement("button",{onClick:function(){r(t)}},"Lancer")):null},tt=j((function(e,n){var t=e.rollCount,r=e.dices,o=e.dicesRolled;return L({},e,{rollCount:t+1,dicesRolled:Qn(0===t?r:o,{diceParentElement:n})})})),rt=function(){var e=ve(),t=fe();return n.createElement("div",{className:"actions"},n.createElement(nt,null),n.createElement(ot,{onClick:function(){e(t)}}),n.createElement(Vn,null))},ot=function(e){var t=e.onClick,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rollCount,t=void 0===n?y():n;return t>0}(),o=me(),a=fe(),i=a<0?"-":"+";return o&&r?n.createElement("div",{className:"collect-action"},n.createElement("button",{onClick:t},n.createElement("span",null,"Collecter"),n.createElement("span",{className:"score"},i," ",Math.abs(a)))):null},at=function(){var e=k(),t=C(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.witchUncursedDiceId,t=void 0===n?x():n,r=e.currentCard,o=void 0===r?k():r,a=e.threeSkullsOrMoreInCursedArea,i=void 0===a?se():a;return!!w(o)&&(!i&&!t)}(),o=be();return n.createElement("div",{className:"skull-island"},w(e)?n.createElement(ct,null):null,n.createElement("div",{className:"bottle"},n.createElement("div",{className:"area"},t.map((function(e){return n.createElement(Ae,{key:e.id,dice:e,disabled:!r,onClickAction:function(e){o(e)},specificStyle:{margin:"1px 5px"}})})),M(e)?n.createElement(it,{card:e}):null,I(e)?n.createElement(n.Fragment,null,n.createElement(it,{card:e}),n.createElement(it,{card:e})):null)))},it=function(e){var t=e.card;return n.createElement("button",{className:"dice",style:{width:50,height:50,color:"#fcfcfc",margin:"1px 5px",backgroundColor:U[t].color1,borderColor:U[t].color2,borderWidth:"2px"}},n.createElement("img",{src:"src/dices/dice_skull.png",style:{width:"100%",height:"100%"}}))},ct=function(){return n.createElement("div",{className:"witch-label"},n.createElement("img",{src:"src/skull-island/witch-label.png"}),n.createElement("svg",{x:"0px",y:"0px",width:"156.083px",height:"208.667px",viewBox:"0 0 156.083 208.667"},n.createElement("path",{id:"path_01",fill:"none",stroke:"#E4AD30",d:"M8.406,107.82 c2.541,2.178,2.375,2.875,14.25,3.5c14.782,0.778,19.26-11.965,19.26-11.965S47.918,88,40.251,72.917s-18.916,4.583-9.083,8.167 s27.759-1.338,35.142-12.417C74.75,56,77.583,45.333,79.25,37S78.477,15.833,66.31,3.833"}),n.createElement("path",{id:"path_02",fill:"none",stroke:"#E4AD30",d:"M44.031,110.094 c0,0,1,1.313-4.438,3.344s-14.244,7.281-32.125-2"}),n.createElement("path",{id:"path_03",fill:"none",stroke:"#E4AD30",d:"M42.125,103.688 c0,0,1.313,6.594-9.313,8.625S10.281,108.719,9.406,101"}),n.createElement("path",{id:"path_04",fill:"none",stroke:"#E4AD30",d:"M33.114,112.253c0,0,39.886-19.253,43.011,24.747 c0.372,0.447-0.959,1.208-2.542,1.625"})))},lt=n.useMemo;e("Game",(function(){return lt((function(){return n.createElement("div",{id:"mille-sabord-container"},n.createElement(Ne,null),n.createElement(Se,null),n.createElement(Fn,null),n.createElement("div",{className:"dice-kept-and-skulls"},n.createElement(On,null),n.createElement(at,null)),n.createElement(Me,null),n.createElement(rt,null))}))}))}}}));
//# sourceMappingURL=game.component-a38f7b6a.js.map
